<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Audio en archivos de video 3GP | dm&#39;s blog</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description" content="Recientemente me ha dado por grabar algunos videos desde mi celular. Luego de echar a andar el bluetooth en la laptop, pasar fotos, música y videos desde el celular se hizo muy facilito. El problema f">
<meta property="og:type" content="article">
<meta property="og:title" content="Audio en archivos de video 3GP">
<meta property="og:url" content="http://damog.net/blog/2006/08/20/audio-en-archivos-de-video-3gp/index.html">
<meta property="og:site_name" content="dm's blog">
<meta property="og:description" content="Recientemente me ha dado por grabar algunos videos desde mi celular. Luego de echar a andar el bluetooth en la laptop, pasar fotos, música y videos desde el celular se hizo muy facilito. El problema f">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Audio en archivos de video 3GP">
<meta name="twitter:description" content="Recientemente me ha dado por grabar algunos videos desde mi celular. Luego de echar a andar el bluetooth en la laptop, pasar fotos, música y videos desde el celular se hizo muy facilito. El problema f">
  
    <link rel="alternative" href="/atom.xml" title="dm&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/blog/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div class="mobile-nav-panel">
	<i class="icon-reorder icon-large"></i>
</div>
<header id="header">
	<h1 class="blog-title">
		<a href="/blog/">dm&#39;s blog</a>
	</h1>
	<nav class="nav">
		<ul>
			<li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li>
			<li><a id="nav-search-btn" class="nav-icon" title="Search"></a></li>
			<li><a href="/atom.xml" id="nav-rss-link" class="nav-icon" title="RSS Feed"></a></li>
		</ul>
	</nav>
	<div id="search-form-wrap">
		<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://damog.net/blog"></form>
	</div>
</header>
    <div id="main">
      <article id="post-audio-en-archivos-de-video-3gp" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2006/08/20/audio-en-archivos-de-video-3gp/" class="article-date">
  <time datetime="2006-08-21T01:02:31.000Z" itemprop="datePublished">Sun Aug 20, 2006</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 class="article-title entry-title" itemprop="name">
      Audio en archivos de video 3GP
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p></p><p>Recientemente me ha dado por grabar algunos videos desde mi celular. Luego de echar a andar el bluetooth en la laptop, pasar fotos, música y videos desde el celular se hizo muy facilito. El problema fue que el <a target="_blank" href="http://chocolate.lgmobile.com">LG Chocolate</a> graba los videos en un formato <a target="_blank" href="http://en.wikipedia.org/wiki/3GP">3GP</a>, que <em>mplayer</em>, por ejemplo, sí puede reproducir, pero sin audio.</p>
<p>Googleando un poco y metiéndome a la lista de correos de mplayer, encontré que hay que recompilar mplayer agregando el códec AMR. Siempre me ha molestado recompilar. No recompilo ni siquiera mi kernel, me ladilla tremendamente. Además, Debian tiene facilidades muy sencillas para construir módulos a partir de los headers que te puedes bajar en forma de paquetes. Entonces generalmente las cosas que trae el kernel empaquetado en stock de Debian, al menos en powerpc, satisface muchas de las actuales necesidades, sobre todo en el kernel 2.6.17. Pero bueno, el kernel no era el punto. El punto es que hay que recompilar mplayer.</p>
<p>Estos celulares de 3G utilizan precisamente el códec AMR, Adaptive Multi-Rate, el cual está disponible gratuitamente para uso personal, desde el sitio de <a target="_blank" href="http://www.3gpp.org">3GPP</a>. Para todo esto, utilizo el paquete de mplayer de A Menucc1, DD, pues tiene el QA requerido por Debian, aún cuando no está oficialmente en el archivo de Debian y su versión para Etch es altamente estable.</p>
<p>Cito la <a target="_blank" href="http://www.mplayerhq.hu/DOCS/HTML/en/audio-codecs.html">página de códecs</a> de <em>mplayer</em>:<br></p><p></p>
<blockquote>To enable support, download the sources for <a target="_top" href="http://www.3gpp.org/ftp/Specs/latest/Rel-6/26_series/26104-610.zip">AMR-NB</a> and <a target="_top" href="http://www.3gpp.org/ftp/Specs/latest/Rel-6/26_series/26204-600.zip">AMR-WB</a> codecs, put them in the directory where you unpacked the MPlayer source and run the following commands:<br><pre>unzip 26104-610.zip<br>unzip 26104-610_ANSI_C_source_code.zip<br>mv c-code libavcodec/amr_float<br>unzip 26204-600.zip<br>unzip 26204-600_ANSI-C_source_code.zip<br>mv c-code libavcodec/amrwb_float</pre><br>After that, follow the usual MPlayer build procedure.</blockquote><br><p><br>Bastante sencillo. En sistemas Debian, se pueden obtener los sources del paquete desde <a target="_blank" href="http://tonelli.sns.it/pub/mplayer/etch/"><a href="http://tonelli.sns.it/pub/mplayer/etch/" target="_blank" rel="external">http://tonelli.sns.it/pub/mplayer/etch/</a></a> y se desempaqueta normalmente:<br></p><br><blockquote>$ dpkg-source -x mplayer_1.0pre8-1.dsc</blockquote><br><p><br>&#8230;teniendo ya, obviamente, el orig.tar.gz, el diff.gz y el dsc. Luego de aplicado el código adicional de 3GPP, basta con construir nuevamente el paquete. Recomiendo altamente utilizar el wrapper <em>pdebuild</em> de <em>pbuilder</em> para dicho fin, si no van a hacer un menjurgue extremo de paquetes y dependencias de compilación. Luego de construido el paquete, basta buscar el .deb resultante en <em>/var/cache/pbuilder/result</em>. Si a alguien más le interesa, el paquete de mplayer 1.0pre8-1 para powerpc, lo puse <a target="_blank" href="http://www.damog.net/files/misc/mplayer_1.0pre8-1_powerpc.deb">acá</a>.<br><br>Nota: Si por alguna razón <em>mplayer</em> falla al compilarse por no encontrar <em>/usr/lib/libxmms.so.1</em>, basta con que se agregue <em>xmms</em> como Build-Depends en el debian/control, o que hagan login al chroot de pbuilder y lo instalen manualmente, que fue lo que yo hice:<br></p><br><blockquote>$ sudo pbuilder login &#8212;save-after-login<br># apt-get install xmms</blockquote><br><p><br>Ya teniendo el soporte de AMR, es posible convertir los 3GPs a formatos más amigables con mplayer usando mencoder, como AVI, y ver al <a target="_blank" href="http://www.damog.net/files/misc/wada-limosna.avi.zip">Wada pidiendo limosnas en el Poli</a> :-)<br></p><br><blockquote></blockquote>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
			</span>
		</div>
	</footer>
	
    
<nav id="article-nav">
  
    <a href="/blog/2006/08/26/respeto/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Respeto
        
      </div>
    </a>
  
  
    <a href="/blog/2006/08/18/i-am-a-little-devil/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">
        
          i am a little devil
        
      </div>
    </a>
  
</nav>

  
</article>




    </div>
    <div class="mb-search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:damog.net/blog">
  </form>
</div>
<footer id="footer">
	<h1 class="footer-blog-title">
		<a href="/blog/">dm&#39;s blog</a>
	</h1>
	<span class="copyright">
		&copy; 2015 David Moreno<br>
		Modify from <a href="http://sanographix.github.io/tumblr/apollo/" target="_blank">Apollo</a> theme, designed by <a href="http://www.sanographix.net/" target="_blank">SANOGRAPHIX.NET</a><br>
		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	</span>
</footer>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js" type="text/javascript"></script>
  </div>
</body>
</html>