<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>dm&#39;s blog</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="dm's blog">
<meta property="og:url" content="http://damog.net/blog/page/5/index.html">
<meta property="og:site_name" content="dm's blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dm's blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/blog/atom.xml" title="dm&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/blog/favicon.png">
  
  <link rel="stylesheet" href="/blog/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div class="mobile-nav-panel">
	<i class="icon-reorder icon-large"></i>
</div>
<header id="header">
	<h1 class="blog-title">
		<a href="/blog/">dm&#39;s blog</a>
	</h1>
	<nav class="nav">
		<ul>
			<li><a href="/">Home</a></li><li><a href="/blog/archives">Archives</a></li>
			<li><a id="nav-search-btn" class="nav-icon" title="Search"></a></li>
			<li><a href="/blog/atom.xml" id="nav-rss-link" class="nav-icon" title="RSS Feed"></a></li>
		</ul>
	</nav>
	<div id="search-form-wrap">
		<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://damog.net/blog"></form>
	</div>
</header>
    <div id="main">
      
  
    <article id="post-dancer-template-haml" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2010/02/11/dancer-template-haml/" class="article-date">
  <time datetime="2010-02-11T15:43:53.000Z" itemprop="datePublished">Thu Feb 11, 2010</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2010/02/11/dancer-template-haml/">Dancer::Template::Haml now available</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>I put together a quick template engine for <a href="http://dancer.sukria.net/" target="_blank" rel="external">Dancer</a> using <a href="http://haml-lang.com" target="_blank" rel="external">Haml</a> via <a href="http://search.cpan.org/dist/Text-Haml/" target="_blank" rel="external">Text::Haml</a>. You know Haml, right?</p>
<p>Now you can do neat shit like this:</p>
<p><code lang="perl"><br> set template =&gt; ‘haml’;</code></p>
<p> get ‘/bazinga’, sub {<br>        template ‘bazinga’ =&gt; {<br>                title =&gt; ‘Bazinga!’,<br>                content =&gt; ‘Bazinga?’,<br>        };<br> };<br></p>
<p>Using:</p>
<p><code lang="ruby"><br> !!!<br> %html{ : xmlns =&gt; “<a href="http://www.w3.org/1999/xhtml" target="_blank" rel="external">http://www.w3.org/1999/xhtml</a>“, :lang =&gt; “en”, “xml:lang” =&gt; “en”}<br>   %head<br>     %title= title<br>   %body</code></p>
<pre><code>#content
<span class="tag">  %<span class="title">strong</span></span>= content
</code></pre><p></p>
<p>The dope thing about Text::Haml is that things like the Ruby interpolation will keep working.</p>
<p>Hurray! <a href="http://search.cpan.org/dist/Dancer-Template-Haml/" target="_blank" rel="external">Go get it now</a>.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/dancer/">dancer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/haml/">haml</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/perl/">perl</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ruby/">ruby</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-jon-stewart-interviewed-by-bill-oreilly" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2010/02/09/jon-stewart-interviewed-by-bill-oreilly/" class="article-date">
  <time datetime="2010-02-09T17:30:24.000Z" itemprop="datePublished">Tue Feb 9, 2010</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2010/02/09/jon-stewart-interviewed-by-bill-oreilly/">Jon Stewart interviewed by Bill O&#39;Reilly</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>It is worth watching entirely.</p>
<div align="center"><script src="http://video.foxnews.com/v/embed.js?id=4003531&amp;w=400&amp;h=249" type="text/javascript"></script></div>
    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/fox/">fox</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/o-reilly/">o'reilly</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/politics/">politics</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/stewart/">stewart</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/video/">video</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-features-on-dancer-1-130" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2010/02/08/features-on-dancer-1-130/" class="article-date">
  <time datetime="2010-02-08T21:36:50.000Z" itemprop="datePublished">Mon Feb 8, 2010</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2010/02/08/features-on-dancer-1-130/">New features on Dancer 1.130</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>Last week, or the one before that one, <a href="http://www.sukria.net/" target="_blank" rel="external">Alexis</a> released <a href="http://dancer.sukria.net" target="_blank" rel="external">Dancer</a> <a href="http://search.cpan.org/~sukria/Dancer-1.130/lib/Dancer.pm" target="_blank" rel="external">1.130</a> which represents a big refactoring of the Dancer core code, taking all optional modules away from it: Logging, session and template engines were splited into their respective non-core modules, etc. Additionally, two keyword features were added, header and prefix. I will showcase both in case you haven’t heard the good word from them :)</p>
<h3>header</h3><br>The <tt>header</tt> keyword allows you to modify or alter the response headers by hand. That was a nice little feature that still hadn’t been implemented. With <tt>header</tt> you can do nice little things like this:<br><br><code lang="perl"><br>get ‘/set/header’ =&gt; sub {<br>  header ‘X-Foo’ =&gt; ‘bar’;<br>  “I’m a happy string.” . “\n”;<br>}<br></code><br><br>And this is what that very same code does:<br><br><code lang="bash"><br>~ $ curl -i <a href="http://0.0.0.0:3000/set/header" target="_blank" rel="external">http://0.0.0.0:3000/set/header</a><br>HTTP/1.0 200 OK<br>X-Foo: bar<br>Content-Type: text/html<br>X-Powered-By: Perl Dancer 1.130<br><br>I’m a happy string.<br></code><br><br>Also, <tt>header</tt> has a method synonym, <tt>headers</tt>, and you can use both indistinctly:<br><br><code lang="perl"><br>get ‘/some/crap’, sub {<br>  headers ‘X-Foo’ =&gt; ‘Bar’,<br>    ‘X-Bar’ =&gt; ‘Foo’;<br>}</code><br><br>And it will produce the result that you are expecting.<br><br><h3>prefix</h3>

<p><tt>prefix</tt> is also interesting. It will indicate that the following route handlers’ path patters defined for Dancer will be prepended with such prefix. So:</p>
<p><code lang="perl"><br>prefix ‘/user’;<br>get ‘/home’, sub { template ‘user_home’ };<br>get ‘/logout’, sub { “bye!” };<br></code></p>
<p>So here we are instructing Dancer two route handlers that happen to be really pointing to “/user/home” and “/user/logout”. In order to stop prefixing the route handlers’ paths you just do:</p>
<p><code lang="perl">prefix undef;</code></p>
<p>And continue with your un-prepended paths.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/dancer/">dancer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/perl/">perl</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-feed-moved" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2010/02/04/feed-moved/" class="article-date">
  <time datetime="2010-02-04T18:31:37.000Z" itemprop="datePublished">Thu Feb 4, 2010</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2010/02/04/feed-moved/">Feed moved</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>I have always been <em>against</em> <a href="http://feedburner.com/" target="_blank" rel="external">FeedBurner</a>. I don’t like it at all. I’ve never liked it, as a matter of fact, I have no actual idea why I’ve been using it on my blog. I do know why I used it on the country feeds on <a href="http://planetalinux.org" target="_blank" rel="external">Planeta Linux</a>, and that is because it was very easy to mask all of our URL changes with some level of stability on the subscribers (in times where me being technically competent was a bad joke for myself). Plus, we could plug AdSense into it (that later on I removed because I like to earn actual dollars, not pennies, <em>you cheap clickers</em>!). Or maybe I’m just so against it because of pure jealousy: A few RSS feed geeks, <em>like myself</em>, sold a <strong>sub-par</strong>product to Google in a <strong>hundred million dollars</strong>. At the very end, I’ve never had a good reason to use FeedBurner or to stick with it, so hereby I’m dropping it entirely from my own personal blog.</p>
<p>It’s obvious that some people who subscribed to my feed using that FeedBurner URL aren’t reading this very blog post. It’s alright, I’ve lost reigns before, I will get over it and conquer their hearts again. But you, dear blog reader, planet subscriber, or eventual visitor, have the power to change things, to help workaround the evils of FeedBurner and make me be myself again. Please, help me myself again! And that is, from now on, use this feed URL and only this feed URL, I promise I will support as long as nice good looking HTTP servers (such as <a href="http://nginx.org" target="_blank" rel="external">nginx</a> or <a href="http://twitter.com/webserver" target="_blank" rel="external">Cherokee</a>) exist:</p>
<p></p><h3 style="text-align: center;"><a href="http://stereonaut.net/feed" target="_blank" rel="external">http://stereonaut.net/feed/</a></h3><br>That said, <strong>I will get you a beer</strong> next time we meet each other and you, dear reader, mention this blog post and mention that you changed to this new feed URL of mine. <strong>I’m not kidding</strong>. Just go ahead and tell me :-)<p></p>
<p>Thank you.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/beer/">beer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/feed/">feed</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/feedburner/">feedburner</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/feeds/">feeds</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/google/">google</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/planeta-linux/">planeta linux</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-large-php-truncated-on-nginx" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2010/02/03/large-php-truncated-on-nginx/" class="article-date">
  <time datetime="2010-02-03T10:35:14.000Z" itemprop="datePublished">Wed Feb 3, 2010</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2010/02/03/large-php-truncated-on-nginx/">Large PHP scripts truncated on nginx</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>I spent a couple of <em>hours</em> yesterday trying to debug an issue that made me hit my head against the wall while it lasted.</p>
<p>I run multiple instances of <a href="http://wordpress.org" target="_blank" rel="external">WordPress</a>, and with it, comes a nice little editor bundled called <a href="http://tinymce.moxiecode.com/" target="_blank" rel="external">TinyMCE</a>. But on my main WordPress installation (<a href="http://stereonaut.net" target="_blank" rel="external">this</a> very blog, dear reader, where you are reading this from), TinyMCE wouldn’t come up, it wouldn’t render properly on the browser, it didn’t matter if it was my main browser, Chrome, or Firefox, Safari, cached, uncached, it was just broken. Since I hadn’t have the time to go through this issue before, I was using a different editor installed as a plugin. <em>LAME</em>. And coward.</p>
<p><img class="alignright size-full wp-image-1113" title="nginx" src="http://damog.net/old/stereonaut/2010/02/nginx.gif" alt="" width="121" height="32">Anyway, I found out that one of the scripts <a href="http://phpxref.ftwr.co.uk/wordpress/nav.html?wp-includes/js/tinymce/wp-tinymce.php.html" target="_blank" rel="external"><tt>wp-tinymce.php</tt></a> was being returned truncated. Because of that, <a href="http://getfirebug.com/" target="_blank" rel="external">Firebug</a> would report that some TinyMCE bullshit wasn’t defined (JavaScript, oh I’m not very fond of you). Oh, well. I tested calling that script under <a href="http://curl.haxx.se/" target="_blank" rel="external">curl</a> separately and in fact, it was only returning a fraction of the script, 44K out of the actual 200+K. I also found out that even though my <a href="http://nginx.org/" target="_blank" rel="external">nginx</a> installation had gzip compression enabled and the PHP had zlib as well, the script wouldn’t process the <tt>tinymce.js.gz</tt> but it was returning directly <tt>tinymce.js</tt>. It’s alright, I just wanted it to work, no matter if it wouldn’t go through gzip, that’d be a matter of some other day.</p>
<p>After a lot of googling I ended up reading <a href="http://www.republicavirtual.com.br/blog/2009/11/03/nginx-truncate-php/" target="_blank" rel="external">this blog post</a> (in Portuguese), suggesting to make sure the file permissions for both the <tt>client_body_temp</tt> and <tt>fastcgi_temp</tt> directories allowed the user running nginx (<tt>www-data</tt> in my case) to write in them. Apparently large scripts would start writing to disk on them temporarily while processing the shit. Of course, you wouldn’t have this issue if you are running an nginx from your operating system package manager (like <a href="http://packages.debian.org/search?keywords=nginx" target="_blank" rel="external">Debian</a>‘s), but this might very well happen when you are running a custom nginx with separate modules and all sorts of crap on top of it:</p>
<p><code lang="bash">chown www-data:www-data -R /usr/local/nginx/fastcgi_temp/;<br>chmod -R 777 /usr/local/nginx/fastcgi_temp/;<br>chown www-data:www-data -R /usr/local/nginx/client_body_temp/;<br>chmod -R 777 /usr/local/nginx/client_body_temp/;</code></p>
<p>Obrigado, <a href="http://www.republicavirtual.com.br/blog/" target="_blank" rel="external">republicavirtual.com.br</a> :-)</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/gzip/">gzip</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/nginx/">nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/php/">php</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/tinymce/">tinymce</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/wordpress/">wordpress</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-eben-moglen-freedom-in-the-cloud-nyu" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2010/02/02/eben-moglen-freedom-in-the-cloud-nyu/" class="article-date">
  <time datetime="2010-02-02T11:19:54.000Z" itemprop="datePublished">Tue Feb 2, 2010</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2010/02/02/eben-moglen-freedom-in-the-cloud-nyu/">Eben Moglen - &#39;Freedom in the Cloud&#39; 2/5 @ NYU</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>&nbsp;<a href="http://gabriellacoleman.org/blog/" target="_blank" rel="external">Biella</a> passed this flyer around on the <a href="http://lists.vireo.org/cgi-bin/mailman/listinfo/debiannyc" target="_blank" rel="external">Debian-NYC</a> mailing list. If you are in New York City this Friday, you won’t want to miss this <a href="http://emoglen.law.columbia.edu/" target="_blank" rel="external">Eben Moglen</a>‘s talk.</p><br><p style="text-align: center; "><object id="doc_178351046781277" name="doc_178351046781277" height="600" width="100%" type="application/x-shockwave-flash" data="http://d1.scribdassets.com/ScribdViewer.swf" style="outline:none;"><br><param name="movie" value="http://d1.scribdassets.com/ScribdViewer.swf"><br><param name="wmode" value="opaque"><br><param name="bgcolor" value="#ffffff"><br><param name="allowFullScreen" value="true"><br><param name="allowScriptAccess" value="always"><br><param name="FlashVars" value="document_id=26266103&amp;access_key=key-ie370f25lousi01fmdj&amp;page=1&amp;viewMode=list">     </object></p><br><p style="text-align: left; ">If you can’t see the embedded object, go <a href="http://www.scribd.com/doc/26266103/Moglen-Flyer" target="_blank" rel="external">here</a>&nbsp;or to this post’s <a href="http://stereonaut.net/eben-moglen-freedom-in-the-cloud-nyu/" target="_blank" rel="external">permalink</a>.</p>
    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/cloud/">cloud</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/columbia/">columbia</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/debian/">debian</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/eben-moglen/">eben moglen</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/free-software/">free software</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/nyc/">nyc</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/nyu/">nyu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/privacy/">privacy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/talks/">talks</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/web-2-0/">web 2.0</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-kindle-is-shit-next-to-ipad" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2010/01/28/kindle-is-shit-next-to-ipad/" class="article-date">
  <time datetime="2010-01-28T10:58:55.000Z" itemprop="datePublished">Thu Jan 28, 2010</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2010/01/28/kindle-is-shit-next-to-ipad/">Why the Kindle is a piece of shit next to the iPad</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>The fact that the <a href="http://en.wikipedia.org/wiki/Amazon_Kindle" target="_blank" rel="external">Amazon Kindle</a> per se exists, has attracted a copious amount of <a href="http://www.huffingtonpost.com/2010/01/27/ipad-vs-kindle-will-apple_n_437632.html" target="_blank" rel="external">comparisons</a> to the now unveiled <a href="http://www.apple.com/ipad/" target="_blank" rel="external">Apple iPad</a>. The Kindle of course, is a (<a href="http://www.techcrunch.com/2009/04/16/300000-kindle-2s-sold-to-date/" target="_blank" rel="external">reportedly</a>, I don’t own one) great e-book reader and <a href="http://www.techcrunch.com/2010/01/20/kindle-apps/" target="_blank" rel="external">Sudoku console</a>. One should be comparing apples to apples, since comparing these two devices is like comparing a Nokia 5110, with an iPhone (ok bigots, or with a NexusOne), simply different times, different action scenarios.</p><br><p style="text-align: center; "><a href="http://damog.net/old/stereonaut/2010/01/draft_lens6658522module53931922photo_1251308001Apple-and-Orange.jpg" target="_blank" rel="external"><img alt="" title="draft_lens6658522module53931922photo_1251308001Apple-and-Orange" width="300" height="205" class="aligncenter size-medium wp-image-1084" src="http://damog.net/old/stereonaut/2010/01/draft_lens6658522module53931922photo_1251308001Apple-and-Orange-300x205.jpg"></a>&nbsp;<a href="http://damog.net/old/stereonaut/2010/01/nokia5110camera.jpg" target="_blank" rel="external"><img alt="" title="nokia5110camera" width="300" height="263" class="aligncenter size-medium wp-image-1085" src="http://damog.net/old/stereonaut/2010/01/nokia5110camera-300x263.jpg"></a></p><br><p>I read <em>here or there</em> a tweet from someone saying that given that the iPad is 2x as much as the Kindle, they would be getting a Kindle instead. Of course, this is a big pile of stupidity. First off, let’s make clear that the iPad, besides from all of the hype created around it, is much more than just an electronic paper display. Let’s compare both devices when I can watch the entire second season of True Blood on the Kindle, seriously. Or let’s compare it when you can browse your music library and listen to it while you’re replying to your job’s email conversations on why Bill, your co-worker on the next cubicle, should throw away his rotten food from the fridge. Or let’s just compare the lack of free browsing and/or Wi-Fi connectivity from one of both. Come on.</p><br><p>In spite of the fact that Apple could have made the world go insane by reducing the iPad price by a hundred bucks more, comparing sale prices for the Kindle and the iPad is purely wrong, let’s be clear here. But then again, it’s just because of the fact that Amazon made a good and popular e-book reader first and started making it successful, why there’s such wrong feelings and thoughts about the usefulness of a single feature on Jobs’ <a href="http://twitter.com/soapnana/status/8258274286" target="_blank" rel="external">second coming of Jesus Christ</a>.</p><br><p>But if you still try to compare both, the Kindle will fail miserably. And Amazon could profit from that actually, they can assume their own niche of market and reduce the price to something that would make sense for people to carry such a device instead of the good old book/newspaper commute carrying. Otherwise, it’ll leave it as a shitty alternative to the stunning unaffordable Ferrari next door.</p><br><p>&nbsp;</p>
    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/amazon/">amazon</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/apple/">apple</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ipad/">ipad</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/kindle/">kindle</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/shit/">shit</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-god-uid-gid" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2010/01/20/god-uid-gid/" class="article-date">
  <time datetime="2010-01-20T14:36:32.000Z" itemprop="datePublished">Wed Jan 20, 2010</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2010/01/20/god-uid-gid/">Setting uid on God processes</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>I spent some minutes today at work figuring out why a script we use for files and assets propagation wasn’t working when fired up under <a href="http://god.rubyforge.org/" target="_blank" rel="external">God</a>, but it actually was working when run as its normal user.</p><br><p>The script is a <a href="http://www.sinatrarb.com" target="_blank" rel="external">Sinatra</a> application that, upon pings/requests, connects through SSH to different servers on our clusters and execute commands. Details on the implementation are irrelevant here. Since this is automatized, we use key files for the SSH authentication.</p><br><p>When the script was running as the regular user, everything was working fine, but it wasn’t under root. So I figured, <a href="http://net-ssh.rubyforge.org/ssh/v2/api/" target="_blank" rel="external">Net::SSH</a> was trying to use root’s private keys file. After reading God’s examples I found out that you can also set uid and gid on the watched processes, so that’s what I configured:</p>

<p><code lang="ruby"><br> w.uid = “myuser”<br> w.gid = “myuser”<br></code></p>
<p>However, this was still not working. So I made the script print some verification:</p>

<p><code lang="ruby"><br>puts “My uid is: #{Process.uid} and euid: #{Process.euid} and user: #{ENV[‘USER’]}”<br></code></p>
<p>So <tt>Process.uid</tt> and <tt>Process.euid</tt> was correctly printing the UID for &quot;myuser&quot;, but ENV[‘USER’] was still &quot;root&quot;. I figured that ENV[&quot;HOME&quot;] would be the home directory based on the user, &quot;/root&quot;, so maybe Net::SSH was still trying to read <tt>/root/.ssh/id_rsa</tt>, and it was, quoting Net::SSH’s :keys option:</p><br><blockquote><br><p><br><meta charset="utf-8"><br><table class="list" style="margin-top: 2em; margin-right: 2em; margin-bottom: 2em; margin-left: 2em; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: black; border-right-color: black; border-bottom-color: black; border-left-color: black; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 221); padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; background-position: initial initial; background-repeat: initial initial; "><br>    <tbody><br>        <tr><br>            <td style="padding-top: 0.2em; padding-right: 0.2em; padding-bottom: 0.2em; padding-left: 0.2em; text-align: center; vertical-align: top; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: initial; "><code>:keys</code></td><br>            <td style="padding-top: 0.2em; padding-right: 0.2em; padding-bottom: 0.2em; padding-left: 0.2em; text-align: left; vertical-align: top; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: initial; ">This specifies the list of private key files to use&nbsp;<em>instead</em>&nbsp;of the defaults (<code>$HOME/.ssh/id_dsa</code>,&nbsp;<code>$HOME/.ssh2/id_dsa</code>,&nbsp;<code>$HOME/.ssh/id_rsa</code>, and&nbsp;<code>$HOME/.ssh2/id_rsa</code>). The value of this option should be an array of strings.</td><br>        </tr><br>    </tbody><br></table><br><br></p><br></blockquote><br><p>God correctly runs the process with the given uid/gid but it will not change your environment variables. And there’s nothing wrong with it, all generated processes on Unix systems will inherit its parent’s set of variables. God shouldn’t necessarily have to be different, but in case you mess around with a given user’s environment variables on a process watched by God, remember this post :-)</p>
    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/environment-variables/">environment variables</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/god/">god</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/processes/">processes</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ruby/">ruby</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ssh/">ssh</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/sysadmin/">sysadmin</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-plack" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2010/01/19/plack/" class="article-date">
  <time datetime="2010-01-19T09:21:42.000Z" itemprop="datePublished">Tue Jan 19, 2010</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2010/01/19/plack/">Plack</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>Yes, <a href="http://plackperl.org/" target="_blank" rel="external">Perl Web Server</a> is PSGI/Plack. That’s <a href="http://bulknews.typepad.com/blog/2010/01/perl-oasis.html" target="_blank" rel="external">it</a>.</p><br><p>&nbsp;</p>
    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/perl/">perl</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/plack/">plack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/psgi/">psgi</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/web/">web</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/web-server/">web server</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-coding-since" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2010/01/16/coding-since/" class="article-date">
  <time datetime="2010-01-16T22:05:27.000Z" itemprop="datePublished">Sat Jan 16, 2010</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2010/01/16/coding-since/">Coding since...</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>I recently read a blog’s about page where the autor mentioned to have 11 years of programming experience, parenthesizing that he started really young. Although I certainly don’t think any serious professional experience should include the kind of coding you do as a kid, it made me remember how I started programming myself when I was a a child.</p><br><p>I didn’t have my own computer before 1996, when I started <em>secundaria</em> (junior high school). Previously, my only computers’ experience had been playing around with Flow on my elementary school’s very recent computer lab. Those Commodores were cool but didn’t really caught completely my attention. I was slightly surprised when, on late 95 or early 96 I went to my friend’s place and saw he had a computer that displayed really neat colors and you could draw freely without a command line interface but with a mouse, a toolbar and all. As I learned later, that must have been Paint on either Windows 3.1 or 95. I was much more interested on that kind of computer action since I was more into paper drawing than the actual computer at the time. But it didn’t caught completely my attention either (I was a very lame uninterested kid, I guess). During that time, I started playing with my cousin’s machine in Mexico City, running Windows 3.1, but I was very afraid to use it or ask to use it, since I had no clue what to do with it. When my dad bought me my first computer, my cousin Bruno was my first-hand information resource. I remember I asked him if he knew how I could get rid of the &quot;Acer&quot; blue screen that appeared immediately every time I booted the machine. He said &quot;that, I don’t know&quot;.</p><br><p>I remember I had no Internet connection for like an entire year (come on, it was already late 1996!) and I used the computer primarily as a typewriter. I could do my homework papers in it and pretend I was a graphic designer (I was still into drawing) using Paint. I didn’t have (or didn’t know it existed) Microsoft Office, but I had this thing installed called Microsoft Works where I used to do it all. In early 1997 I started surfing the Web using Telmex’s &quot;Internet Directo Personal&quot;, the pre-Prodigy (Mexico’s most popular ISP these days) service. At school, I started learning QuickBASIC and since I was some kind of nerd as a child, I also bought some literature around the topic on magazine stands and that way I became very, very interested on the topic of programming. Around 1998, when I was 13 or 14, I used to do a lot of little programs in it, that was really my first experience with code. But I never got too deep into anything, I wonder why now. My family owned and operated a seafood restaurant, and I came up with an entire program (written in QBasic) for the waiters to order on the computer and print their orders in the kitchen where the cooks would pick it up and dispatch it. But I only knew QBasic, all of the food menu was a never-ending list of variables, I had no clue what a database was (I didn’t have Access or didn’t even know what it was), etc. The entire code was a single file, with a lot of if-then’s and goto calls. I wish I still had that code.</p><br><p>What I rescue telling this is that coding as a child was a experience full of fun. I remember I loved to spend hours and hours thinking on how to come up with a better &quot;interface&quot; on the program, if you could call it like that. Sometimes I hope I could still retain that kid momentum when programming or that I could have kept it when I first went to college. The worst part of programming is that one sometimes forgets that it is lots of fun.</p>
    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/90s/">90s</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/children/">children</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/coding/">coding</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/fun/">fun</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/mexico/">méxico</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/programming/">programming</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/quickbasic/">quickbasic</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/telmex/">telmex</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/blog/page/4/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/3/">3</a><a class="page-number" href="/blog/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/blog/page/6/">6</a><a class="page-number" href="/blog/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/75/">75</a><a class="extend next" rel="next" href="/blog/page/6/">Next &raquo;</a>
    </nav>
  

    </div>
    <div class="mb-search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:damog.net/blog">
  </form>
</div>
<footer id="footer">
	<h1 class="footer-blog-title">
		<a href="/blog/">dm&#39;s blog</a>
	</h1>
	<span class="copyright">
		&copy; 2016 David Moreno<br>
		Modify from <a href="http://sanographix.github.io/tumblr/apollo/" target="_blank">Apollo</a> theme, designed by <a href="http://www.sanographix.net/" target="_blank">SANOGRAPHIX.NET</a><br>
		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	</span>
</footer>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js" type="text/javascript"></script>
  </div>
</body>
</html>