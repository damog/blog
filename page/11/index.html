<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>dm&#39;s blog</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="dm's blog">
<meta property="og:url" content="http://damog.net/blog/page/11/index.html">
<meta property="og:site_name" content="dm's blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dm's blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/blog/atom.xml" title="dm&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/blog/favicon.png">
  
  <link rel="stylesheet" href="/blog/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div class="mobile-nav-panel">
	<i class="icon-reorder icon-large"></i>
</div>
<header id="header">
	<h1 class="blog-title">
		<a href="/blog/">dm&#39;s blog</a>
	</h1>
	<nav class="nav">
		<ul>
			<li><a href="/">Home</a></li><li><a href="/blog/archives">Archives</a></li>
			<li><a id="nav-search-btn" class="nav-icon" title="Search"></a></li>
			<li><a href="/blog/atom.xml" id="nav-rss-link" class="nav-icon" title="RSS Feed"></a></li>
		</ul>
	</nav>
	<div id="search-form-wrap">
		<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://damog.net/blog"></form>
	</div>
</header>
    <div id="main">
      
  
    <article id="post-more-git-tips" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2009/01/19/more-git-tips/" class="article-date">
  <time datetime="2009-01-19T17:01:15.000Z" itemprop="datePublished">Mon Jan 19, 2009</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2009/01/19/more-git-tips/">More Git tips?</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>Make sure you add the just launched <a href="http://gitready.com/" target="_blank" rel="external">git ready</a> blog to your feed reader. Made by <a href="http://litanyagainstfear.com/" target="_blank" rel="external">qrush</a>. Audience applauds!</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/blog/">blog</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/git/">git</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-introducing-apache2embedflv-%e2%80%93-exposing-flvs-with-flowplayer-and-a-customized-interface" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2009/01/17/introducing-apache2embedflv-%e2%80%93-exposing-flvs-with-flowplayer-and-a-customized-interface/" class="article-date">
  <time datetime="2009-01-17T17:22:43.000Z" itemprop="datePublished">Sat Jan 17, 2009</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2009/01/17/introducing-apache2embedflv-%e2%80%93-exposing-flvs-with-flowplayer-and-a-customized-interface/">Introducing Apache2::EmbedFLV – Exposing FLVs with Flowplayer and a customized interface</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p><strong>Situation</strong></p>
<p>You have a bunch of Flash videos, FLV files. Every once in a while you dump new files on your publicly accessible Apache directory. You would like to give your users the ability to play those FLVs within a webpage you provide, instead of just serving them the files for a direct download. Maybe you want this for all FLVs, not only an specific directory.</p>
<p><strong>Solution</strong></p>
<p><a href="http://axiombox.com/apache2-embedflv" target="_blank" rel="external">Apache2::EmbedFLV</a>!</p>
<p><pre><code>&lt;Files ~ “.flv$”&gt;<br>  SetHandler modperl<br>  PerlResponseHandler Apache2::EmbedFLV<br>&lt;/Files&gt;<br></code></pre><br>So now, all your FLV files will be served through Apache2::EmbedFLV on mod_perl with a neat interface you can define yourself, and using the very nice and GPL’ed <a href="http://flowplayer.org" target="_blank" rel="external">Flowplayer</a>.</p>
<p>Apache2::EmbedFLV uses a default template, but you can define your own with:</p>
<p><pre><code>&lt;Files ~ “.flv$”&gt;<br>  SetHandler modperl<br>  PerlSetVar template /path/to/your/template.tt<br>  PerlResponseHandler Apache2::EmbedFLV<br>&lt;/Files&gt;</code></pre><br>Also, Apache2::EmbedFLV expects to find Flowplayer (flowplayer.swf and flowplayer.controls.swf) on <a href="http://your.server.com/flowplayer.swf" target="_blank" rel="external">http://your.server.com/flowplayer.swf</a>, the root of your server. So you can do something like this to make it work:</p>
<p><pre><code>Alias /flowplayer.swf /home/web/flowplayer/flowplayer.swf<br>Alias /flowplayer.controls.swf /home/web/flowplayer/flowplayer.controls.swf</code></pre><br>Or, you just define the flowplayer variable:</p>
<p><pre><code>&lt;Files ~ “.flv$”&gt;<br>  SetHandler modperl</code></pre></p>
<h1 id="relative_to_the_document_root">relative to the document root</h1><p>  PerlSetVar flowplayer /swf/flowplayer.swf</p>
<h1 id="or_absolute:">or absolute:</h1><p>  PerlSetVar flowplayer <a href="http://my.other.server/was/hacked/flowplayer.swf" target="_blank" rel="external">http://my.other.server/was/hacked/flowplayer.swf</a><br>  PerlResponseHandler Apache2::EmbedFLV<br>&lt;/Files&gt;<br><strong>Action!</strong></p>
<p>You can see it in action at <a href="http://axiombox.com/apache2-embedflv/flv" target="_blank" rel="external">http://axiombox.com/apache2-embedflv/flv</a>.</p>
<p><a href="http://axiombox.com/apache2-embedflv/flv/radiohead_bodysnatchers2.flv" target="_blank" rel="external">This Radiohead video</a> is particularly cool :-)</p>
<p><strong>Getting it</strong></p>
<p><ul><br>    <li>More information at its homepage, <a href="http://axiombox.com/apache2-embedflv" target="_blank" rel="external">http://axiombox.com/apache2-embedflv</a></li><br>    <li><a href="http://search.cpan.org/~damog/Apache2-EmbedFLV-0.2/" target="_blank" rel="external">CPAN module</a>.</li><br>    <li><a href="http://github.com/damog/apache2-embedflv" target="_blank" rel="external">Git repository</a>, as usual, on GitHub.</li><br></ul><br>UPDATE: Oops! Fixed link to Flowplayer’s website! <a href="http://flowplayer.org" target="_blank" rel="external">flowplayer.org</a>. Thanks to those who noticed and let me knew.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/apache/">apache</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/flowplayer/">flowplayer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/flv/">flv</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/mod-perl/">mod_perl</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/perl/">perl</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/swf/">swf</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-feathercast-apache-software-foundation-unofficial-podcast" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2009/01/17/feathercast-apache-software-foundation-unofficial-podcast/" class="article-date">
  <time datetime="2009-01-17T13:41:32.000Z" itemprop="datePublished">Sat Jan 17, 2009</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2009/01/17/feathercast-apache-software-foundation-unofficial-podcast/">FeatherCast: Apache Software Foundation /unofficial/ podcast</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>I recently stumbled upon <a href="http://feathercast.org/" target="_blank" rel="external">FeatherCast</a>, a nice little project made by <a href="http://wooga.drbacchus.com/" target="_blank" rel="external">Rich Bowen</a> and David Reid, the former, a recognized documenter within the Apache community, author of a few <a href="http://www.amazon.com/exec/obidos/search-handle-url/ref=ntt_athr_dp_sr_1?_encoding=UTF8&amp;search-type=ss&amp;index=books&amp;field-author=Rich%20Bowen" target="_blank" rel="external">books</a> on the webserver, mainly the <a href="http://www.apache-cookbook.com/" target="_blank" rel="external">Apache Cookbook</a>. FeatherCast is an unofficial podcast; its primary goal is supporting the <a href="http://apache.org" target="_blank" rel="external">Apache Software Foundation</a> community. I’ve found it to be greatly interesting, modern and up to date; more recently, bringing lights to some of the content and people, for instance, featured on <a href="http://www.us.apachecon.com/c/acus2008/" target="_blank" rel="external">ApacheCon</a>, which took place in New Orleans, LA, late last year.</p>
<p>Great effort, great initiative: Subscribe and support FeatherCast!</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/apache/">apache</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/feathercast/">feathercast</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/podcast/">podcast</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/tips/">tips</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-macbook-pro" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2009/01/14/macbook-pro/" class="article-date">
  <time datetime="2009-01-14T11:27:23.000Z" itemprop="datePublished">Wed Jan 14, 2009</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2009/01/14/macbook-pro/">MacBook Pro</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>As I <a href="http://twitter.com/habanerd/status/1116401225 " target="_blank" rel="external">tweeted yesterday</a>, I received my new MacBook Pro. I was a bit skeptical on choosing this computer being a Linux user/developer for quite some time now. I thought it was worth giving it a try anyway. Besides, I still use <a href="http://log.damog.net/2005/12/un-amor-mas-en-mi-vida/" target="_blank" rel="external">my old Powerbook</a>; as my home server since I’ve always liked the Mac hardware.</p>
<p><a href="http://damog.net/old/axiombox/2009/01/0113091346.jpg" target="_blank" rel="external"><img class="size-medium wp-image-791 alignright" title="0113091346" src="http://damog.net/old/axiombox/2009/01/0113091346-300x225.jpg" alt="0113091346" width="300" height="225"></a></p>
<p>For the time being, I’m not running <a href="http://debian.org" target="_blank" rel="external">Debian</a> in it, but I will install it sooner or later, for now, I’ve reached some stability and productivity on the current setup, I’m running <a href="http://macports.org" target="_blank" rel="external">MacPorts</a>, which brings all the nice open source goodies to Leopard, <a href="http://vimperator.org" target="_blank" rel="external">Vimperator</a>, <a href="http://www.vim.org/scripts/script.php?script_id=2204" target="_blank" rel="external">TwitVim</a> and all sort of terminal scripts to make Terminal.app more delightful to work with. We’ll see how it goes.</p>
<p>Hard obstacles that I’ve found so far that were a pain to deal with:</p>
<p><ul><br>    <li>More than one Ruby and RubyGems installation (the base system, and the MacPorts installation).</li><br>    <li>MySQL on MacOS (specially hard if you are trying to make all work from MacPorts).</li><br>    <li>Getting used to “Spaces”. I like one row with up to eight or ten columns. Apparently, you can only have up to four column spaces.</li><br>    <li>GNOME-Terminal vs Terminal.app.</li><br>    <li>CA certificates to make Mutt (or fetchmail) work properly with SSL (post to come).</li><br>    <li>MacOS’ postfix.</li><br></ul><br>All of this is obviously workaroundable, but being a Linux dork it sometimes takes more time :-)</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/fetchmail/">fetchmail</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/mac/">mac</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/macos/">macos</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/macports/">macports</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/mutt/">mutt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/mysql/">mysql</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ruby/">ruby</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/rubygems/">rubygems</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ssl/">ssl</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-twitvim" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2009/01/10/twitvim/" class="article-date">
  <time datetime="2009-01-10T16:18:41.000Z" itemprop="datePublished">Sat Jan 10, 2009</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2009/01/10/twitvim/">TwitVim: Nice Twitter client</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>I do like <a href="http://twitter.com/" target="_blank" rel="external">Twitter</a>. For quite some time now I’ve been trying to find a Twitter client that I’d really like. I’ve tried, lots of them, <a href="http://www.twhirl.org/" target="_blank" rel="external">Twhirl</a>, <a href="http://live.gnome.org/DanielMorales/Twitux" target="_blank" rel="external">Twitux</a>, <a href="http://code.google.com/p/microblog-purple/" target="_blank" rel="external">microblog-purple</a> (which I started to dislike since I’m not IMing that much anymore and it can become extremely annoying if not blocked), <a href="http://www.tweetdeck.com/" target="_blank" rel="external">TweetDeck</a>, etc. All of them don’t seem to fill my own needs and preferences. Even when Twitter used to support IM, I came up with probably the best solution I’ve used so far, GTalk on <a href="http://www.bitlbee.org/main.php/news.r.html" target="_blank" rel="external">Bitlbee</a>, so I could easily use <a href="http://www.irssi.org" target="_blank" rel="external">Irssi</a> with it. I have also been suggested to use <a href="http://software.complete.org/software/projects/show/twidge" target="_blank" rel="external">Twidge</a> but direct command-line IO is probably not the best for me. I want to have it a console emulator window, maybe screened in a remote server, running all the time, auto-updating, unobstrusive.</p>
<p>Given this, I started to hack on my own personal client using <a href="http://tldp.org/HOWTO/NCURSES-Programming-HOWTO/" target="_blank" rel="external">ncurses</a>. Sadly, my lack of deep knowledge of the not-too-intuitive ncurses API made me abort the project. Maybe some day I could retake it. Shame.</p>
<p>Anyway, within the last week, I found and have been using <a href="http://www.vim.org/scripts/script.php?script_id=2204" target="_blank" rel="external">TwitVim</a>. I like <a href="http://vim.org" target="_blank" rel="external">Vim</a>: It’s my editor of choice for most of my projects. And TwitVim is a really nice project supporting a lot of interesting features:</p>
<p style="text-align: center;"><a href="http://damog.net/old/axiombox/2009/01/twitvim.png" target="_blank" rel="external"><img class="aligncenter size-medium wp-image-783" title="twitvim" src="http://damog.net/old/axiombox/2009/01/twitvim-300x180.png" alt="twitvim" width="300" height="180"></a></p>

<p>There you can see how, on a non-obstrusive way, you can have it running. Since it’s built on Vim, you can also do some key mappings so that you don’t have to type all the commands. And it has all sorts of really cool and interesting features, like if the cursor is on a given line, \r will start a reply, or other binding will start a direct message, etc.</p>
<p>Here’s a picture of my own timeline:</p>
<p style="text-align: center;"><a href="http://damog.net/old/axiombox/2009/01/twitvim-user.png" target="_blank" rel="external"><img class="aligncenter size-medium wp-image-784" title="twitvim-user" src="http://damog.net/old/axiombox/2009/01/twitvim-user-300x180.png" alt="twitvim-user" width="300" height="180"></a></p>

<p>Once you have installed it, take a look at the extensive and detailed documentation with:</p>
<p><pre><code>:help TwitVim</code></pre><br>However, the only downside is that it doesn’t auto-refresh. But you can map a key for quick update:</p>
<p><pre><code>:nnoremap &lt;F8&gt; :FriendsTwitter&lt;cr&gt;</code></pre><br>What Twitter clients do you like and use?</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/twitter/">twitter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/twitvim/">twitvim</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-re-on-debgem" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2009/01/08/re-on-debgem/" class="article-date">
  <time datetime="2009-01-08T09:40:38.000Z" itemprop="datePublished">Thu Jan 8, 2009</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2009/01/08/re-on-debgem/">Re: On DebGem</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p><a href="http://www.grep.be/blog/en/computer/debian/debgem" target="_blank" rel="external">Wouter</a>, I find your thinking on <a href="http://debgem.phusion.nl/" target="_blank" rel="external">DebGem</a> a bit overreacted. I think you are taking the product and commercial efforts that a company make as the proposed solution we’ve all been expecting for a similar problem, which is not. You are considering DebGem to be an outcome provided by the Ruby community, which is not, to this issue.</p>
<p><a href="http://www.phusion.nl/about.html" target="_blank" rel="external">Phusion</a> is obviously not the Ruby community, but part of it. How I see it, it’s great: I applaud that more companies take a look at nice technologies and try to provide their own products. Since I do most of my work with both technologies (and others), Debian and Ruby, I find DebGem worth giving it a try, and if it solves the installation problems of some gems on different systems for me, my employer and the systems I maintain, why not pay for it. However that’s all you can expect it to do, solve your gem installation problems and that’s it, they are not proposing to change how gems are done or how Ruby libraries are implemented as packages in Debian, they are just a bridge, a shortcut, nothing else, nothing more. And if that bridge works and is well built and maintained, hurrah!</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/debgem/">debgem</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/debian/">debian</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/gem/">gem</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ruby/">ruby</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-returning-an-specific-http-status-return-code-and-content-with-mod-perl-2" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2009/01/06/returning-an-specific-http-status-return-code-and-content-with-mod-perl-2/" class="article-date">
  <time datetime="2009-01-06T10:35:12.000Z" itemprop="datePublished">Tue Jan 6, 2009</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2009/01/06/returning-an-specific-http-status-return-code-and-content-with-mod-perl-2/">Returning an specific HTTP status/return code and content with mod_perl 2</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>Making a simple <tt>PerlResponseHandler</tt> that does something like this:</p>
<pre><code>sub handler {
    my($r) = shift;
    $r-&gt;content_type("text/plain");
    $r-&gt;print("You suck.\n");
    return Apache2::Const::HTTP_BAD_REQUEST;
}</code></pre>
...doesn't make what you'd be expecting. This is because mod_perl assumes, since you are specifying content type and something to print, that this is a legit and valid (200-ish) request. This is what you get:
<pre><code>
POST http://myserver/resource --&gt; 200 OK
Connection: close
Date: Mon, 05 Jan 2009 23:02:57 GMT
Content-Type: text/plain; charset=UTF-8
Client-Date: Mon, 05 Jan 2009 23:03:00 GMT
Client-Response-Num: 1
Client-Transfer-Encoding: chunked
[ some headers snipped ]

You suck.
&lt;!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN"&gt;
&lt;html&gt;&lt;head&gt;
&lt;title&gt;200 OK&lt;&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;h1&gt;OK&lt;/h1&gt;
&lt;p&gt;Your browser sent a request that this server could not understand.&lt;br /&gt;
&lt;/p&gt;
&lt;/body&gt;&lt;/html&gt;
</code></pre>
So, yes, I was expecting to return a 400 Bad Request return with just "You suck" on the response body. mod_perl disagrees, which, kind of sucks if you are trying to make a RESTful service with mod_perl HTTP handlers and filters.

To avoid this behaviour, this is one way to go:
<pre><code>sub handler {
    my($r) = shift;
    $r-&gt;status(400); # or the one you are interested in
    $r-&gt;content_type("text/plain");
    $r-&gt;print("You suck.");
    return Apache2::Const::OK;
}
</code></pre>
You can also take a look at <tt>status_line</tt> that overrides <tt>status</tt>. You can also avoid the content_type method call if you are sloth enough. Now, this is what you get:

<pre><code>
GET https://myserver/resource --> 400 Bad Request
Connection: close
Date: Mon, 05 Jan 2009 23:27:08 GMT
Content-Type: text/plain; charset=UTF-8
Client-Date: Mon, 05 Jan 2009 23:27:10 GMT
Client-Peer: 209.234.249.38:443
Client-Response-Num: 1
[ some headers snipped :) ]

You suck.
</code></pre>

<p>And so, beer awaits.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/apache/">apache</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/mod-perl/">mod_perl</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-ruby-goodies-modules-and-methods-for-my-everyday-ruby" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2009/01/03/ruby-goodies-modules-and-methods-for-my-everyday-ruby/" class="article-date">
  <time datetime="2009-01-03T22:27:50.000Z" itemprop="datePublished">Sat Jan 3, 2009</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2009/01/03/ruby-goodies-modules-and-methods-for-my-everyday-ruby/">Ruby goodies: Modules and methods for my everyday Ruby</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>I make a lot of Web script processing, whether scraping, webservices, systems administration, etc. Because I sometimes happen to repeat small and useful chunks of code for different projects, I thought that, given making new modules and methods is usually hassleless in Ruby, I should make my own set of methods and goodies I constantly use. Example 1, I sometimes miss Perl’s LWP::Simple simplicity where I just pass a URL to a subroutine and get the content on a variable, quick, one-liner. Example 2, extract all links on a given URL on an array that I can then iterate and maybe fetch given the first example. Getting all A links is very easy to do, say with regex or with Hpricot (which should the best way to parse HTML), but most of the time I (and people, I’d bet) need absolute URLs which is fairly more complex (relative, absolute URLs, BASE href declarations, etc, the same case as in <a href="http://axiombox.com/feedbag" target="_blank" rel="external">Feedbag</a>).</p>
<p>Well, for different cases like that one, I’ve started my own set of Ruby goodies. If you don’t find them useful, I understand, they are mostly for my <strongown< strong=""> needs, I just want to make it public, because maybe, some other people might indeed find them useful.</strongown<></p>
<p>Simple installation:</p>
<pre><code>sudo gem install damog-goodies -s http://gems.github.com/</code></pre>

<p>As time and needs pass, I will be adding stuff into it. For the time being, here’s both above examples in action:</p>
<pre><code>
>> require "goodies"
requiring /var/lib/gems/1.8/gems/damog-goodies-0.1/lib/goodies/array.rb
requiring /var/lib/gems/1.8/gems/damog-goodies-0.1/lib/goodies/lwr.rb
requiring /var/lib/gems/1.8/gems/damog-goodies-0.1/lib/goodies/html.rb
=> true
>> pp HTML::Links.find "damog.net"
["mailto:david-YOUKNOWTHEDEAL-axiombox.com",
 "http://log.damog.net/",
 "http://historiasdenuevayork.com",
 "http://axiombox.com/",
 "http://flickr.com/photos/raquelydavid",
 "http://last.fm/user/damog",
 "http://maggit.com.mx",
 "http://twitter.com/habanerd",
 "http://www.facebook.com/profile.php?id=670490388",
 "http://www.chess.com?ref_id=1380378",
 "http://www.chess.com",
 "http://www.chess.com/members/view/damog?ref_id=1380378",
 "http://www.chess.com/echess/create_game.html?uid=1380378&ref_id=1380378",
 "http://www.chess.com/home/game_archive.html?member=damog&ref_id=1380378"]
=> nil
>> pp HTML::Links.find("http://google.com").first(10)
["http://images.google.com/imghp?hl=en&tab=wi",
 "http://maps.google.com/maps?hl=en&tab=wl",
 "http://news.google.com/nwshp?hl=en&tab=wn",
 "http://www.google.com/prdhp?hl=en&tab=wf",
 "http://mail.google.com/mail/?hl=en&tab=wm",
 "http://www.google.com/intl/en/options/",
 "http://video.google.com/?hl=en&tab=wv",
 "http://groups.google.com/grphp?hl=en&tab=wg",
 "http://books.google.com/bkshp?hl=en&tab=wp",
 "http://scholar.google.com/schhp?hl=en&tab=ws"]
=> nil
>> get "debian.org"
[snip]
>> get("planeta.debian.net")[0, 100]
=> "&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"
>> 
</code></pre>

<p>Repository is, as usual, kindly hosted at <a href="http://github.com" target="_blank" rel="external">GitHub</a> on <a href="http://github.com/damog/goodies" target="_blank" rel="external">damog/goodies</a>.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/gem/">gem</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/github/">github</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ruby/">ruby</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-introducing-feedbag-feed-auto-discovery-ruby-librarytool" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2008/12/30/introducing-feedbag-feed-auto-discovery-ruby-librarytool/" class="article-date">
  <time datetime="2008-12-30T17:58:10.000Z" itemprop="datePublished">Tue Dec 30, 2008</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2008/12/30/introducing-feedbag-feed-auto-discovery-ruby-librarytool/">Introducing Feedbag: Feed auto-discovery Ruby library/tool</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>Last week, I spent some time building a good (that I liked) feed auto-discovery tool to use in Ruby for other project I’m building, <a href="http://github.com/damog/rfeed" target="_blank" rel="external">rFeed</a>. I liked CPAN’s <a href="http://search.cpan.org/~btrott/Feed-Find-0.06/lib/Feed/Find.pm" target="_blank" rel="external">Feed::Find</a>, and at some point I made a wrapper class to run a Perl script using such module, however, I wasn’t happy by mixing it all. So, <a href="http://axiombox.com/feedbag" target="_blank" rel="external">Feedbag</a> was born:</p>
<p><pre><code>&gt;&gt; require “rubygems”<br>=&gt; true<br>&gt;&gt; require “feedbag”<br>=&gt; true<br>&gt;&gt; Feedbag.find “log.damog.net”<br>=&gt; [“<a href="http://feeds.feedburner.com/TeoremaDelCerdoInfinito" target="_blank" rel="external">http://feeds.feedburner.com/TeoremaDelCerdoInfinito</a>“,<br> “<a href="http://log.damog.net/comments/feed/" target="_blank" rel="external">http://log.damog.net/comments/feed/</a>“]</code><span class="go"><br></span><code>&gt;&gt; planet_feeds = Feedbag.find(“planet.debian.org”)<br>[ … ]<br>&gt;&gt; planet_feeds.first(3)<br>=&gt; [“<a href="http://planet.debian.org/rss10.xml" target="_blank" rel="external">http://planet.debian.org/rss10.xml</a>“,<br> “<a href="http://planet.debian.org/rss20.xml" target="_blank" rel="external">http://planet.debian.org/rss20.xml</a>“,<br> “<a href="http://planet.debian.org/atom.xml" target="_blank" rel="external">http://planet.debian.org/atom.xml</a>“]<br>&gt;&gt;</code><code> planet_feeds.size<br>=&gt; 104<br>&gt;&gt;</code></pre><br>It makes smart use of relative and absolute bases, hrefs, links, content types, etc. It is also a single Ruby file, so you can grab it and use it on your application. Plus, it only requires <a href="https://code.whytheluckystiff.net/hpricot/" target="_blank" rel="external">Hpricot</a> as dependency. It can find all feeds linked on a web page, but it will return the most important at the beginning of the resulting array, so you will have the important one on the first results (see example above with Planet Debian).</p>
<p>Synopsis, README and a brief tutorial have been placed at <a href="http://axiombox.com/feedbag" target="_blank" rel="external">axiombox.com/feedbag</a>. You can also take a look at the <a href="http://github.com/damog/feedbag" target="_blank" rel="external">git repo</a>, hosted in <a href="http://github.com/" target="_blank" rel="external">GitHub</a>.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/feed/">feed</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/feedbag/">feedbag</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ruby/">ruby</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/web/">web</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-good-looking-irb" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2008/12/29/good-looking-irb/" class="article-date">
  <time datetime="2008-12-29T09:01:51.000Z" itemprop="datePublished">Mon Dec 29, 2008</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2008/12/29/good-looking-irb/">Good looking Irb</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p><a href="http://en.wikipedia.org/wiki/Interactive_Ruby_Shell" target="_blank" rel="external">Irb</a> is a pain to work with… when you don’t know it enough. Fortunately, it can be configured extensively enough to make your Ruby interactive sessions much smoother. Pocahontas asked me to post my Irb configuration:</p>
<p><pre># ~/.irbrc<br>IRB.conf[:AUTO_INDENT] = true<br>IRB.conf[:USE_READLINE] = true<br>IRB.conf[:SAVE_HISTORY] = 5000<br>IRB.conf[:HISTORY_FILE] = “#{ENV[‘HOME’]}/.irb_history”<br>IRB.conf[:PROMPT_MODE] = :SIMPLE</pre></p>
<p>require ‘irb/completion’<br>require ‘irb/ext/save-history’<br>require ‘pp’</p>
<h1 id="load_rubygems_and_wirble">load rubygems and wirble</h1><p>require ‘rubygems’ rescue nil<br>require ‘wirble’<br>require ‘utility_belt’</p>
<h1 id="load_wirble">load wirble</h1><p>Wirble.init<br>Wirble.colorize<br>Which makes Irb to look much much better:</p>
<p><img class="aligncenter size-full wp-image-763" title="irb" src="http://damog.net/old/axiombox/2008/12/irb.png" alt="irb" width="590" height="224"></p>
<p>But it is not only coloring the features you are getting, but also Readline support, command history saving, tab completion, libraries loaded by default, persistent history with Wirble, etc, etc. as you can see yourself on the very self-explanatory configuration file. Enjoy.</p>
<p>Update: I have to thank my co-worker Galin for pointing me most of these neat features.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/config/">config</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/irb/">irb</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ruby/">ruby</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/tips/">tips</a></li></ul>

			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/blog/page/10/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/9/">9</a><a class="page-number" href="/blog/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/blog/page/12/">12</a><a class="page-number" href="/blog/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/75/">75</a><a class="extend next" rel="next" href="/blog/page/12/">Next &raquo;</a>
    </nav>
  

    </div>
    <div class="mb-search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:damog.net/blog">
  </form>
</div>
<footer id="footer">
	<h1 class="footer-blog-title">
		<a href="/blog/">dm&#39;s blog</a>
	</h1>
	<span class="copyright">
		&copy; 2016 David Moreno<br>
		Modify from <a href="http://sanographix.github.io/tumblr/apollo/" target="_blank">Apollo</a> theme, designed by <a href="http://www.sanographix.net/" target="_blank">SANOGRAPHIX.NET</a><br>
		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	</span>
</footer>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js" type="text/javascript"></script>
  </div>
</body>
</html>