<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>dm&#39;s blog</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="dm's blog">
<meta property="og:url" content="http://damog.net/blog/page/20/index.html">
<meta property="og:site_name" content="dm's blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dm's blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="dm&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/blog/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div class="mobile-nav-panel">
	<i class="icon-reorder icon-large"></i>
</div>
<header id="header">
	<h1 class="blog-title">
		<a href="/blog/">dm&#39;s blog</a>
	</h1>
	<nav class="nav">
		<ul>
			<li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li>
			<li><a id="nav-search-btn" class="nav-icon" title="Search"></a></li>
			<li><a href="/atom.xml" id="nav-rss-link" class="nav-icon" title="RSS Feed"></a></li>
		</ul>
	</nav>
	<div id="search-form-wrap">
		<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://damog.net/blog"></form>
	</div>
</header>
    <div id="main">
      
  
    <article id="post-automatizacion-en-web-con-wwwmechanize" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2007/09/05/automatizacion-en-web-con-wwwmechanize/" class="article-date">
  <time datetime="2007-09-06T02:16:25.000Z" itemprop="datePublished">Wed Sep 5, 2007</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2007/09/05/automatizacion-en-web-con-wwwmechanize/">Automatización en web con WWW::Mechanize</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p><a title="__index__" name="__index__" id="__index__"></a><ul></ul></p>
<p><li><br><a href="#la_columna_pl__4">La Columna.pl #4</a></li></p>
<p><ul></ul></p>
<p><li><br><a href="#automatizaci%EF%BF%BD_n_en_web_con_www__mechanize">Automatización en web con WWW::Mechanize</a></li></p>
<p><ul></ul></p>
<p><li><a href="#introducci%EF%BF%BD_n">Introducción</a></li></p>
<p><li><a href="#script">Script</a></li></p>
<p><li><a href="#fin">Fin</a></li></p>
<p><li><a href="#referencias_%EF%BF%BD_tiles">Referencias Útiles</a></li><br><br></p>
<p><li><a href="#autor">Autor</a></li></p>
<p><li><a href="#licencia_de_uso">Licencia de uso</a></li><br><br></p>
<p><li><a href="#sobre_la_columna_pl">Sobre <em>La Columna.pl</em></a></li><br></p>
<p><hr></p>
<p></p><h1><br><a title="la_columna_pl__4" name="la_columna_pl__4" id="la_columna_pl__4"></a>La Columna.pl #4</h1><p></p>
<p></p><h2><br><a title="automatizaci�_n_en_web_con_www__mechanize" name="automatizaci%EF%BF%BD_n_en_web_con_www__mechanize" id="automatizaci�_n_en_web_con_www__mechanize"></a>Automatización en web con WWW::Mechanize</h2><p></p>
<p></p><h3><br><a title="introducci�_n" name="introducci%EF%BF%BD_n" id="introducci�_n"></a>Introducción</h3><br><code>WWW::Mechanize</code><p> es un módulo muy interesante. Básicamente nos permite automatizar o mecanizar una conversación a través de una página web. Es decir, poder automatizar el procesamiento de enlaces, imágenes, formas, etc. En realidad <code>WWW::Mechanize</code> actúa como una subclase de <code>LWP::UserAgent</code>, que es el mítico LWP en Perl.</p>
<p>Hay que entender que todo lo que hacemos en un navegador web, o casi todo, es posible automatizarlo por medio de scripts, debido a que lo que en realidad sucede es que trabajamos con cabeceras y cuerpo <code>HTTP</code>, tanto en petición como en respuesta. Todo es a través del protocolo <code>HTTP</code>.</p>
<p>Mi trabajo actual requiere mucha interacción automatizada con páginas web y <code>WWW::Mechanize</code> me ha permitido hacer desarrollos muchos más rápidos, mucho mejor encapsulados y con un nivel de abstracción menor.</p>
<p>En esta cuarta columna, quiero hacer algo para mostrar de qué es capaz <code>WWW::Mechanize</code> y que ustedes, amables lectores, vean su utilidad real. Lo que haré será un proceso de autenticación en el wiki del proyecto Debian y la obtención de una de sus páginas. Básicamente es loguearme en el wiki y obtener el valor de uno de los campos de una forma. Lo interesante en este asunto viene al automatizar el login en un sistema basado en web, escribir en una forma y enviar forma, obtener campos, etc: <code>WWW::Mechanize</code> lo hace muy simple.</p>
<p>Manos a la obra.<br></p><p></p>
<p></p><h3><br><a title="script" name="script" id="script"></a>Script</h3><p></p>
<p><br>Vamos a empezar por invocar a nuestro intérprete de Perl activando warnings, así como el pragma <code>strict</code>.<br></p><br><pre><br> #!/usr/bin/perl -w<br><br> use strict;</pre><br><p><br>Como necesitaremos un nombre de usuario y contraseña para acceder el wiki en Debian (es necesario para editar páginas), vamos a tomarlos como argumentos:<br></p><br><pre><br> my $username = $ARGV[0] || die “ERR: Es necesario especificar un nombre de usuario”, “\n”;<br><br> my $password = $ARGV[1] || die “ERR: Es necesario especificiar una contraseña”, “\n”;</pre><br><p><br>Los argumentos vienen en el arreglo <code>@ARGV</code>: El primer argumento de nuestro programa será el nombre de usuario y el segundo será la contraseña. Si no existen, entonces nuestro programa morirá.<br><br>A continuación llamamos al módulo <code>WWW::Mechanize</code> y creamos un objeto de ese tipo.<br></p><br><pre><br> use WWW::Mechanize;<br><br> my $mech = WWW::Mechanize-&gt;new;</pre><br><p><br>Bastante simple.<br><br>Ahora tenemos que ver qué es lo que haríamos desde un navegador convencional para hacer lo que queremos. Lo más lógico es que entráramos a la página del wiki de Debian, cuya URL es <a href="http://wiki.debian.org/" target="_blank" rel="external"><a href="http://wiki.debian.org/" target="_blank" rel="external">http://wiki.debian.org/</a></a>. Vamos a hacerlo de la misma manera en el script.<br></p><br><pre><br> $mech-&gt;get(‘<a href="http://wiki.debian.org/" target="_blank" rel="external"><a href="http://wiki.debian.org/" target="_blank" rel="external">http://wiki.debian.org/</a></a>‘);<br><br> unless($mech-&gt;success) {<br><br>  die “Tuvimos problemas al acceder la página de Debian”, “\n”;<br><br> }</pre><br><p><br>Básicamente estamos utilizando dos métodos disponibles en Mechanize: <code>get()</code> y <code>success()</code>. El primero hará que nuestro objeto viaje hasta la página que le indiquemos. En cualquier caso, el método <code>success()</code> nos indica por medio de un valor booleano si la última operación que se realizó en Mechanize, fue exitosa o algo falló, lo cual nos sirve para tener más control del flujo de nuestra aplicación. Si no tenemos problemas con <code>get()</code>, entonces el programa no morirá con el mensaje especificado; sin embargo si sí hubo problema, es decir, <code>success()</code> regresa falso, entonces entrará en acción el <code>die()</code>. Continuemos.<br><br>Una vez que estamos en Firefox (u Opera, o Internet Explorer, no sé) en la página <a href="http://wiki.debian.org/," target="_blank" rel="external"><a href="http://wiki.debian.org/," target="_blank" rel="external">http://wiki.debian.org/,</a></a> ¿qué es lo siguiente? Bueno, lo normal, que es al no estar logueados, nos aparezca un link que dice &#8220;Login&#8221;. En un proceso común tendríamos que dar clic en él para continuar con el proceso de autenticación. Eso mismo haremos:<br></p><br><pre><br> $mech-&gt;follow<em>link(text =&gt; ‘Login’) or die “ERR: No pude dar clic en login”, “\n”;</em></pre><br><p><br>Así de simple. Con el método <code>follow_link()</code> y el parámetro &#8216;text&#8217;, podemos indicarle a Mechanize que donde estamos actualmente, que sería la página frontal del wiki, siga el enlace cuyo texto es &#8216;Login&#8217;. Mechanize nos permite incluso acomodar regex en estos campos, lo cual nos facilitaría aún más al lidiar con contenido dinámico o situaciones más complejas. Como <code>follow_link()</code> regresa realmente un objeto <code>HTTP::Response</code> en caso de éxito, también provee un retorno en caso de falla, que es <code>undef</code>. Así que si hubo una falla al intentar seguir el enlace, moriremos con el mensaje de error especificado.<br><br>Una vez que dimos clic en &#8216;Login&#8217;, podemos ver en nuestro navegador convencional que la página donde nos encontramos es aquella con la URL &#8216;<a href="http://wiki.debian.org/UserPreferences" target="_blank" rel="external"><a href="http://wiki.debian.org/UserPreferences" target="_blank" rel="external">http://wiki.debian.org/UserPreferences</a></a>&#8217;. En realidad pudimos habernos evitado algo de código al empezar nuestro primer <code>get()</code> con esta URL pero intentaba mostrar un poco de las bondades de Mechanize. ¿Qué tal si en tu script no sabes en qué URL se encuentra tu navegador de Mechanize? Puedes usar el método <code>uri()</code> e incluso el método <code>response()</code>. Eso te ayudará a analizar bien el flujo de tu programa.<br><br>En fin, en esa página de UserPreferences podemos ver que tenemos una forma para introducir &#8220;Name&#8221;, &#8220;Password&#8221;, etc. En realidad esos dos campos son los que realmente nos interesan. Para ésto, nos puede servir mucho la extensión WebDeveloper de Firefox, pues con ella podemos ver la información detallada de las formas en las páginas. Lo que queremos saber es cuál es nombre de la forma para ingresar el nombre de usuario y la contraseña, y además, el nombre de estos dos campos (hay que recordar que comúnmente las formas en HTML llevan un parámetro &#8220;name&#8221;). O incluso puedes intentar buscar estos parámetros viendo el código HTML directo desde la página.<br><br>Luego de ver el HTML (o de usar la extensión de Firefox) nos damos cuenta que en la página de autenticación de Debian hay tres formas, sin embargo, la forma donde se introducen el nombre de usuario y la contraseña, ¡no tiene nombre! Mechanize sabe que algunos webmasters no colocan esta información, así que provee otra forma en que puedes usar esas formas: Por número. Puedes especificar si trabajarás con la primera, segunda, tercera o enésima forma. En nuestro ejemplo, la forma de autenticación es la tercera:<br></p><br><pre> eval {<br><br>  $mech-&gt;form(3);<br><br>  $mech-&gt;submit_form(‘username’ =&gt; $username, ‘password’ =&gt; $password);<br><br> };</pre><br><pre><br> die “ERR: Problemas al enviar la forma: $@”, “\n” if $@;</pre><br><p><br>Un bonito pedazo de código aquí. Lo primero que notamos es que usamos un bloque <code>eval{}</code> para encapsular dos métodos, <code>form()</code> y <code>submit_form()</code>. <code>form()</code> selecciona la forma con la que trabajaremos, en este caso la tercera y <code>submit_form()</code> envía esa forma con los campos indicados. Es bastante intuitivo, ¿no crees? Y ya, básicamente eso es lo único que necesitamos para autenticarnos. En caso de falla con <code>submit_form()</code>, la aplicación muere, sin embargo, eso lo intentamos evitar usando <code>eval{}</code>. Si algo dentro del bloque de eval fallara y muriera, <code>eval{}</code> llena una variable especial, <code>$@</code> con el mensaje de error y ya después nosotros podemos morir o hacer lo que queramos. Bonito, ¿no es así?<br><br>Una vez que mandamos la forma, tenemos que asegurarnos que no nos haya mandado mensaje de password erróneo o algo así. Una cosa es que el envío de la forma con sus parámetros sea exitoso o no, y otra diferente que la información de usuario y contraseña sean incorrectos. ¿Cómo saber lo que necesitamos para identificar ésto? Podemos intentar en nuestro Firefox poniendo información errónea en estos campos e intentar loguearse. Al hacer pruebas de este tipo veo que es diferente si el usuario no existe o si la contraseña es errónea.<br><br>Si el usuario no existe, la página nos manda un error que dice: &#8220;Unknown user name: &#8221;sdfsdfsdf&#8220;. Please enter user name and password.&#8221;. Si la contraseña está mal (o sea, el usuario existe, pero la contraseña es errónea), la página despliega: &#8220;Sorry, wrong password.&#8221;. Vamos a ver cómo controlaríamos dichos mensajes:<br></p><br><pre><br> die “Unknown user name!”, “\n” if $mech-&gt;content =~ /Unknown user name/;<br><br> die “Wrong password!”, “\n” if $mech-&gt;content =~ /Sorry, wrong password/;</pre><br><p><br>¡Qué sencillo! Morimos en caso de que el método <code>content()</code>, que nos regresa la cadena con todo el HTML de la página actual, contiene alguna de ambas cadenas. Código simple para regexs simples. Si no tenemos ninguno de ambos, asumimos que estaremos ya bien logueados.<br><br>Ahora, ¿qué es lo que queremos hacer? Digamos que queremos obtener lo que nuestra propia página tiene escrito. Las páginas de los usuarios son simples páginas del wiki con nuestro nombre de usuario, en mi caso, &#8220;<a href="http://wiki.debian.org/DavidMorenoGarza&amp;#8221" target="_blank" rel="external">http://wiki.debian.org/DavidMorenoGarza&amp;#8221</a>;, o lo que es lo mismo &#8220;<code><a href="http://wiki.debian.org/%24username" target="_blank" rel="external">http://wiki.debian.org/$username</a></code>&#8221;:<br></p><br><pre><br> $mech-&gt;get(“<a href="http://wiki.debian.org/" target="_blank" rel="external"><a href="http://wiki.debian.org/" target="_blank" rel="external">http://wiki.debian.org/</a></a>$username”);</pre><br><p><br>Estando en dicha página hay en enlace que dice &#8220;Edit&#8221;, ese es en el que tendríamos que dar clic para entrar a la forma directa de nuestra página:<br></p><br><pre><br> $mech-&gt;follow_link(text =&gt; ‘Edit’);</pre><br><p><br>Y una vez en la página de edición, nos encontramos con una forma nuevamente, que es básicamente la caja de edición de la página. Al leer el HTML o usando WebDeveloper, nos encontramos con que la forma sí tiene nombre y la caja con el texto de la página se encuentra en un campo llamado &#8220;editor-textarea&#8221;. Pues vamos a obtener ese texto:<br></p><br><pre><br> $mech-&gt;form_name(‘editor’);<br><br> my $pagetext = $mech-&gt;value(“editor-textarea”);</pre><br><p><br>Con eso seleccionamos la forma cuyo nombre es &#8220;editor&#8221; y con <code>value()</code>, seleccionamos el valor de &#8220;editor-textarea&#8221; y lo guardamos en la variable $pagetext.<br><br>¿Qué más podemos hacer? Lo que queramos, quizás queremos usar ese valor y escribirlo en un archivo, modificarlo y volverlo a guardar, obtener el preview luego de modificarlo, etc, etc. En realidad desde aquí la imaginación es el límite.<br></p><br><h3><br><a title="fin" name="fin" id="fin"></a>Fin</h3><br><p><br>Una regla de oro que he aprendido luego de usar mucho WWW::Mechanize es que casi todo lo que puedas hacer en un navegador convencional, lo puedes hacer también con este módulo. No, no puedes interpretar JavaScript, pero muchas veces no lo necesitas si saber leer bien el HTML de una página y entiendes lo que estás realmente haciendo. A final de cuentas si entiendes perfectamente lo que pasa en una conversación por HTTP quizás ni siquiera necesites Mechanize, pues como un amigo me comentaba, Mechanize es simplemente una rompecabezas armado de muchos módulos alrededor de LWP.<br><br>Hazme llegar tus preguntas o comentarios a mi correo, <code>damog@espiral.org.mx</code>. Estaré encantado de saber qué usos le das a Mechanize.<br></p><br><h3><br>&lt;a title=”referencias�<em>tiles” name=”referencias</em>%EF%BF%BD<em>tiles” id=”referencias</em>�_tiles”&gt;Referencias Útiles</h3><br><ul><br><li><a href="http://search.cpan.org/~petdance/WWW-Mechanize-1.30/lib/WWW/Mechanize.pm" target="_blank" rel="external"><a href="http://search.cpan.org/~petdance/WWW-Mechanize-1.30/lib/WWW/Mechanize.pm" target="_blank" rel="external">http://search.cpan.org/~petdance/WWW-Mechanize-1.30/lib/WWW/Mechanize.pm</a></a></li><br><li><a href="http://search.cpan.org/~gaas/libwww-perl-5.808/lib/LWP/UserAgent.pm" target="_blank" rel="external"><a href="http://search.cpan.org/~gaas/libwww-perl-5.808/lib/LWP/UserAgent.pm" target="_blank" rel="external">http://search.cpan.org/~gaas/libwww-perl-5.808/lib/LWP/UserAgent.pm</a></a></li><br><li><a href="http://wiki.debian.org/" target="_blank" rel="external"><a href="http://wiki.debian.org/" target="_blank" rel="external">http://wiki.debian.org/</a></a></li><br><li><a href="http://wiki.debian.org/UserPreferences" target="_blank" rel="external"><a href="http://wiki.debian.org/UserPreferences" target="_blank" rel="external">http://wiki.debian.org/UserPreferences</a></a></li><br><li><a href="http://search.cpan.org/~petdance/WWW-Mechanize-1.30/lib/WWW/Mechanize/Examples.pod" target="_blank" rel="external"><a href="http://search.cpan.org/~petdance/WWW-Mechanize-1.30/lib/WWW/Mechanize/Examples.pod" target="_blank" rel="external">http://search.cpan.org/~petdance/WWW-Mechanize-1.30/lib/WWW/Mechanize/Examples.pod</a></a></li><br></ul><br><h2><br><a title="autor" name="autor" id="autor"></a>Autor</h2><br><p><br>Durante el día, David Moreno Garza (<a href="http://www.damog.net/" target="_blank" rel="external"><a href="http://www.damog.net/" target="_blank" rel="external">http://www.damog.net/</a></a>) desarrolla aplicaciones, sistemas y proyectos para una incipiente empresa norteamericana;; adicionalmente es consultor independiente en empresas mexicanas y extranjeras utilizando Perl. Durante la noche intenta salvar al mundo del mal usando expresiones regulares y <em>netiquette</em>.<br></p><br><h2><br><a title="licencia_de_uso" name="licencia_de_uso" id="licencia_de_uso"></a>Licencia de uso</h2><br><p><br>Copyright © 2007 David Moreno Garza.<br><br>This material may be distributed only subject to the terms and conditions set forth in the Open Publication License, v1.0 or later (the latest version is presently available at <a href="http://www.opencontent.org/openpub/" target="_blank" rel="external"><a href="http://www.opencontent.org/openpub/" target="_blank" rel="external">http://www.opencontent.org/openpub/</a></a>).<br><br></p><br><hr><br><h1><br><a title="sobre_la_columna_pl" name="sobre_la_columna_pl" id="sobre_la_columna_pl"></a>Sobre <em>La Columna.pl</em><br></h1><br><em>La Columna.pl</em><p> es una columna quincenal que escribe el autor alrededor de Perl. Está inspirada en las columnas que Randal L. Schwartz ha escrito desde hace varios años. Por medio de recetas, consejos, instructivos y guías, el autor pretende propiciar interés en la gente para que conozca un poco más a fondo este apasionante lenguaje de programación y así fomentar una comunidad más sólida alrededor de él.<br><br>Visite <a href="http://www.damog.net/la-columnapl" target="_blank" rel="external"><a href="http://www.damog.net/la-columnapl" target="_blank" rel="external">http://www.damog.net/la-columnapl</a></a>. </p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-moving-to-nyc" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2007/09/03/moving-to-nyc/" class="article-date">
  <time datetime="2007-09-04T00:51:18.000Z" itemprop="datePublished">Mon Sep 3, 2007</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2007/09/03/moving-to-nyc/">Moving to NYC</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>So, we will be moving to New York City, starting next week. We hope to spend a year there, but who knows, we might be there for only a few months, weeks, or more than a year! Life changes, that&#8217;s why we are moving now, right? :) Only constant is change, isn&#8217;t it?</p>

<p>Anyway, we are pretty excited about this. This has been something we have been expecting since May/June and we are finally ready to go, we&#8217;ll see how it goes, hopefully good. School from my side will have to get stalled, again. I&#8217;ll be able to study there, but don&#8217;t know for sure now, we are trying to settle first, and then see possibilities.</p>

<p>So, if you know/have contact with, a good place in Manhattan, Brooklyn or perhaps Queens, please let me know, that&#8217;d be highly appreciated.</p>

<p>Bummer, yet another two Mexicans in the States :-D</p>

<p><em>UPDATE: Of course, I&#8217;m looking for a good place to live (apartment in rent, or similar). Everything else has already been covered. :) </em></p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-redirecciones" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2007/08/31/redirecciones/" class="article-date">
  <time datetime="2007-09-01T03:48:10.000Z" itemprop="datePublished">Fri Aug 31, 2007</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2007/08/31/redirecciones/">Redirecciones</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p></p><h1>La Columna.pl #3</h1><p></p>
<p></p><h2><br><a title="redirecciones" name="redirecciones" id="redirecciones"></a>Redirecciones</h2><p></p>
<p><br>Bueno, el ofrecer disculpas por tardanzas tan prolongadas en la entrega de esta columna, ya se está haciendo costumbre, ¡y apenas van tres columnas! Por ahora mejor tomaré otro <em>approach</em> para las próximas liberaciones de la misma: Se harán nuevas entregas cuando estén listas. Un enfoque plenamente debianero.<br><br>Como sea, durante el mes pasado estuve principalmente preparándome, asistiendo y recuperándome de la Debian Conference que se llevó a cabo en las tierras del whisky, Escocia (pueden ver fotografías en mi galería). Como éste era un viaje que había planeado con mucha antelación, cuando supe que el <code>YAPC::NA</code> se realizaría en Houston, no pude dejar de lamentarme semanas y semanas por que estaría destinado a no asistir. En fin, a ver qué tal el próximo año. Gracias a las personas que preguntaron sobre el paradero de ésta, su columna de confianza.<br><br>En fin.<br><br>En los últimos días estuve revisando un sitio que implementaba cosas interesantes. Entre ellas, una aplicación que hacía redirecciones en web. Éstas son algo populares, pero no muy conocidos: Una aplicacioncita web que nos permite crear URLs del tipo: <code><a href="http://www.midominio.com/cgi-bin/forward.cgi?url=damog.net" target="_blank" rel="external">http://www.midominio.com/cgi-bin/forward.cgi?url=damog.net</a></code>. Básicamente, es un CGI que recibe un argumento y hace una redirección hacia ese sitio, ¿muy simple? Quizás sí, pero nosotros podemos agregarle mucha más funcionalidad muy interesante. Es cierto que dichas redirecciones pueden hacerse con <code>mod<em>rewrite</em></code> de Apache o similares, pero obviamente no le podemos agregar tanta flexibilidad y triques como con un script en Perl.<br><br>Lo que quiero, entonces, es un redireccionador que en primer lugar, verifique que la URL sea válida, quizá escribir en un log o una base de datos y haga la redirección. Además, utilizaremos un poco de rewrites para añadirle un poco de atractivo visual al asunto.<br><br>Empezaré a escribir el <code>redir.cgi</code>:<br></p><br><pre> #!/usr/bin/perl<br><br>use strict;<br>use warnings;<br><br>use CGI qw(:standard);<br>use Data::Validate::URI qw(is_http_uri is_https_uri);<br><br>my $url = param(‘url’) || ‘<a href="http://www.damog.net//" target="_blank" rel="external"><a href="http://www.damog.net/" target="_blank" rel="external">http://www.damog.net/</a></a>‘;<br>$url =~ s/^http(s?)://http$1:///;<br><br>&amp;wrong($url) unless is_http_uri($url) || is_https_uri($url);<br><br># Más código…<br># Quizás escribir a un log, etc..<br>print “Location: $url”, “\n\n”;<br><br>sub wrong {<br>my ($url) = shift;<br>print “Content-Type: text/plain”, “\n\n”;<br>print “It looks like $url is not a valid URL!”;<br>exit;<br>}</pre><br><p><br>Es un código bastante corto y simple. Usamos un par de pragmas, un par de módulos, procesamos el parámetro que recibiremos, validamos y redireccionamos. Vamos por partes. Para poder realizar este ejemplo, necesitaremos tener habilitada la ejecución de CGIs en nuestro servidor web. Para más información al respecto, puedes revisar la información de Apache o Cherokee al respecto, la explicación de tal procedimiento está fuera de contexto en esta columna. Encuentra enlaces útiles más abajo, en la sección de <em>Referencias útiles</em>.<br></p><br><pre> #!/usr/bin/perl<br><br>use strict;<br>use warnings;</pre><br><p><br>Desde luego, nuestro CGI necesitará saber dónde encontrar el intérprete para la ejecución. Además, como buena práctica de programación, añadiremos los pragmas <code>strict</code> y <code>warnings</code>. Desde un personal punto de vista, una vez que nuestra aplicación en desarrollo haya quedado limpia de errores fatales o advertencias, podríamos deshabilitar ambos pragmas, los cuales podrían volverse a cargar cuando se haga <em>debugging</em> o algo similar; pero a final de cuentas es sólo un punto de vista personal que cada quién seguirá teniendo sus propias razones y necesidades.<br></p><br><pre> use CGI qw(:standard);<br>use Data::Validate::URI qw (is_http_uri is_https_uri);</pre><br><p><br>Utilizamos dos módulos. El primero es un módulo que pertenece a Perl y que nos permite un manejo muy sencillo de, claro, CGIs y todo alrededor de ellos. Nosotros realmente lo utilizamos para obtener el parámetro que se le mande al script, con la función <code>param()</code>, que de hecho puede recibir los parámetros tanto en HTTP GET o POST. También podríamos obtener dicho parámetro desde el hash <code>%ENV</code>, pero hay que hacer un poco más de talacha, así que mejor usaremos <code>CGI.pm</code> y listo.<br><br><code>Data::Validate::URI</code> es un módulo que encontré en CPAN que hace mínimamente lo que necesitamos, validar URIs. Si una cadena es una URI de HTTP o HTTPS, se valida y regresará falso en dado que no lo sea. Eso es más que suficiente. La explicación sobre la instalación de módulos de CPAN queda fuera del contexto de esta columna.<br></p><br><pre> my $url = param(‘url’) || ‘<a href="http://www.damog.net//" target="_blank" rel="external"><a href="http://www.damog.net/" target="_blank" rel="external">http://www.damog.net/</a></a>‘;<br>$url =~ s/^http(s?):/{1,2}/http$1:///g;</pre><br><p><br>Creamos la variable <code>$url</code> con el parámetro GET o POST que nos traen al CGI. En caso de que no exista dicho valor, colocaremos alguna otra cadena, en mi caso, mi sitio. La siguiente línea tiene un poco de truco. Resulta que me idea era procesar este script pasándolo por una regla de Rewrite de Apache. Sin embargo, cuando <code>mod_rewrite</code> recibe en la URL la cadena ‘http://’, la cambia, por seguridad y motivos similares, a ‘http:/’, entonces cuando estaba haciendo pruebas con este redireccionamiento, el script fallaba pues intentaba entrar a digamos, ‘http:/google.com’; entonces la segunda línea es un hack para este comportamiento. ¿Pero qué hace la expresión regular? Bueno, hace un <em>search and replace</em>, en la cadena busca aquello que empieza con ‘http’, después puede contener o no (es decir, cero o una vez) la ’s’ -y ésto a su vez lo cachamos con un paréntesis-, seguido de dos puntos y una diagonal, que puede estar una o dos veces. Todo eso lo cambiamos por ‘http’, el valor que cachamos en el paréntesis, <code>$1</code>, dos puntos y dos diagonales. Lo hacemos las veces que sea necesario implementando el modificador ‘g’. Entonces, si recibimos ‘https:/google.com’ lo cambiará a ‘<a href="https://google.com’" target="_blank" rel="external">https://google.com’</a>; y si recibimos ‘<a href="http://www.damog.net’" target="_blank" rel="external">http://www.damog.net’</a>, lo cambiará a, exactamente lo mismo, ‘<a href="http://www.damog.net’" target="_blank" rel="external">http://www.damog.net’</a>.<br></p><br><pre> &amp;wrong($url) unless is_http_uri($url) || is_https_uri($url);</pre><br><p><br>Llamamos a la subrutina <code>wrong()</code>, pasándole la URL, a menos que sea una URI de HTTP o de HTTPS válida. <code>is_http_uri</code> e <code>is_https_uri</code> nos devolverán indefinido, en caso de que falle la validación y lanzarán <code>wrong</code>, que lo único que hace realmente es imprimir un error en el <em>browser</em>. Veremos la subrutina unas cuantas líneas abajo. Antes pudimos haber guardado en base de datos, utilizar la variable <code>$ENV{REMOTE_ADDR}</code> o muchas cosas, usted decida.<br></p><br><pre> print “Location: $url”, “\n\n”;</pre><br><p><br>Éste es un header que tenemos que colocar en la respuesta del cliente, para que el servidor tome la nueva URL y se haga una redirección. El usuario siempre debe recordar que los <em>headers</em> son colocados hasta cuando se encuentren dos nuevas líneas. De otra forma, nuestro servidor web local no definirá dónde acaban las cabeceras y no terminará la ejecución con error. Hasta este punto pasamos las validaciones y le aplicamos el <em>hack</em> para corregir el inconveniente con <code>mod_rewrite</code>. Desde luego que verificar si la URL es válida, es decir, que la URL nos lleve realmente a algún lado o página con contenido válido o que el servidor remoto esté efectivamente funcionando, está fuera del contexto de esta columna, nosotros simplemente cuando nos llega la petición tomamos la URL y colocamos un encabezado en nuestra respuesta en la comunicación HTTP. ¿Lindo, no? <img src="http://www.damog.net/wp-includes/images/smilies/icon_smile.gif" alt=":-)"> Puedes usar algunos otros métodos para validar si la URL remota realmente es válida, quizás usando Net::Ping.<br><br>Ahora, veamos la subrutina <code>wrong</code>.<br></p><br><pre> sub wrong {<br>my ($url) = shift;<br>print “Content-Type: text/plain”, “\n\n”;<br>print “It looks like $url is not a valid URL!”;<br>exit;<br>}</pre><br><p><br>Tomamos la variable <code>$url</code> con la URL que le pasamos. <code>shift</code> saca el primer elemento de un arreglo, en este caso <code>@</code>. Y listo, imprimimos un mensaje en pantalla. Hay que colocar una cabecera <code>Content-Type</code>, dejar doble línea y ponemos el mensaje. Luego buscamos la puerta de salida y terminamos.<br><br>Hasta ahora es bastante simple y bien programado. Podemos probar la funcionalidad yendo hacia: <code><a href="http://www.damog.net/cgi-bin/redir.cgi?url=http://www.google.com" target="_blank" rel="external">http://www.damog.net/cgi-bin/redir.cgi?url=http://www.google.com</a></code> o cualquier otra URL, inténtelo. Incluso podríamos poner una formita web, pues <code>param()</code> puede tomar, como ya lo decía argumentos POST o GET, indistintamente.<br><br>Como quiero empezar a usar este método para hacer ligas desde mi sitio a otros y quiero que tenga una mejor apariencia que esa URL larga y fea, hago uso de <code>mod<em>rewrite</em></code> y coloco un <code>.htaccess</code> en mi servidor web:<br></p><br><pre> &lt;IfModule mod_rewrite.c&gt;<br>RewriteEngine On<br>RewriteRule ^-&gt;(.*)$ /cgi-bin/redir.cgi?url=$1 [L]<br>&lt;/IfModule&gt;</pre><br><p><br>Con dicha regla lo que hago es que cuando reciba una URL con una flechita (`-&gt;’), tomaré lo que venga a continuación y lo consideraré una URL, que es lo que le pasaré al <code>redir.cgi</code>. Entonces, puedo llamar <a href="../-%3Ehttp://www.google.com"><a href="http://www.damog.net/-&gt;http://www.google.com" target="_blank" rel="external">http://www.damog.net/-&gt;http://www.google.com</a></a> y hará lo que quiero que haga, la ejecución del CGI con la URL como parámetro, y con la flechita se ve muy intuitivo.<br><br>¿Qué tal implementar además, logs o escritura en base de datos, o algo así? Inténtalo, la imaginación es el límite. Me gustaría mucho leer sus comentarios.<br></p><br><h3><br>&lt;a title=”referencias   tiles” name=”referencias<em>%20%20%20tiles” id=”referencias</em>   tiles”&gt;Referencias útiles</h3><br><ul><br><li><a href="http://httpd.apache.org/docs/2.0/howto/cgi.html" target="_blank" rel="external"><a href="http://httpd.apache.org/docs/2.0/howto/cgi.html" target="_blank" rel="external">http://httpd.apache.org/docs/2.0/howto/cgi.html</a></a></li><br><li><a href="http://www.cherokee-project.com/doc/CGI_executing.html" target="_blank" rel="external"><a href="http://www.cherokee-project.com/doc/CGI_executing.html" target="_blank" rel="external">http://www.cherokee-project.com/doc/CGI_executing.html</a></a></li><br><li><a href="http://search.cpan.org/%7Esonnen/Data-Validate-URI-0.01/lib/Data/Validate/URI.pm" target="_blank" rel="external"><a href="http://search.cpan.org/~sonnen/Data-Validate-URI-0.01/lib/Data/Validate/URI.pm" target="_blank" rel="external">http://search.cpan.org/~sonnen/Data-Validate-URI-0.01/lib/Data/Validate/URI.pm</a></a></li><br><li><a href="http://search.cpan.org/%7Ebbb/Net-Ping-2.31/lib/Net/Ping.pm" target="_blank" rel="external"><a href="http://search.cpan.org/~bbb/Net-Ping-2.31/lib/Net/Ping.pm" target="_blank" rel="external">http://search.cpan.org/~bbb/Net-Ping-2.31/lib/Net/Ping.pm</a></a></li><br><li><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html" target="_blank" rel="external"><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html" target="_blank" rel="external">http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html</a></a></li><br><li><a href="http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html" target="_blank" rel="external"><a href="http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html" target="_blank" rel="external">http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html</a></a></li><br><li><a href="http://www.damog.net/gallery/v/edinburgh" target="_blank" rel="external"><a href="http://www.damog.net/gallery/v/edinburgh" target="_blank" rel="external">http://www.damog.net/gallery/v/edinburgh</a></a></li><br></ul><br><h2><br><a title="autor" name="autor" id="autor"></a>Autor</h2><br><p><br>Durante el día, David Moreno Garza (<a href="http://www.damog.net//" target="_blank" rel="external"><a href="http://www.damog.net/" target="_blank" rel="external">http://www.damog.net/</a></a>) desarrolla aplicaciones, sistemas y proyectos para una incipiente empresa internacional de telecomunicaciones; adicionalmente es consultor independiente en empresas mexicanas y extranjeras utilizando Perl. Durante la noche intenta salvar al mundo del mal usando expresiones regulares y <em>netiquette</em>.<br></p><br><h2><br><a title="licencia_de_uso" name="licencia_de_uso" id="licencia_de_uso"></a>Licencia de uso</h2><br><p><br>Copyright © 2007 David Moreno Garza.<br><br>This material may be distributed only subject to the terms and conditions set forth in the Open Publication License, v1.0 or later (the latest version is presently available at <a href="http://www.opencontent.org/openpub/" target="_blank" rel="external"><a href="http://www.opencontent.org/openpub/" target="_blank" rel="external">http://www.opencontent.org/openpub/</a></a>).<br><br></p><br><hr><br><h1><br><a title="sobre_la_columna_pl" name="sobre_la_columna_pl" id="sobre_la_columna_pl"></a>Sobre <em>La Columna.pl</em><br></h1><br><em>La Columna.pl</em><p> es una columna quincenal que escribe el autor alrededor de Perl. Está inspirado en las columnas que Randal L. Schwartz ha escrito desde hace varios años ya. Por medio de recetas, consejos, instructivos y guías, el autor pretende propiciar interés en la gente para que conozca un poco más a fondo este apasionante lenguaje de programación y así fomentar una comunidad más sólida alrededor de él.<br><br>Visite <a href="http://www.damog.net/columnapl" target="_blank" rel="external"><a href="http://www.damog.net/columnapl" target="_blank" rel="external">http://www.damog.net/columnapl</a></a>. </p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-manejo-del-tiempo-con-perl" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2007/08/31/manejo-del-tiempo-con-perl/" class="article-date">
  <time datetime="2007-09-01T03:46:54.000Z" itemprop="datePublished">Fri Aug 31, 2007</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2007/08/31/manejo-del-tiempo-con-perl/">Manejo del tiempo con Perl</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p></p><h2><br><strong>Manejo</strong> <strong>del</strong> <strong>tiempo</strong> <strong>con</strong> <strong>Perl</strong><br></h2><p></p>
<p><a href="http://www.damog.net/columnapl" target="_blank">La Columna.pl</a> #1 - Mayo 21, 2007.<br><br>Recientemente, por algunas de las necesidades que <a href="http://www.maggit.com.mx/" target="_blank">tuvimos</a> en el trabajo, necesitamos manejar de alguna forma fechas y horas desde nuestros scripts y aplicaciones en <a href="http://www.perl.com/pub/a/1999/03/pm.html" target="_blank"><strong>Perl</strong></a>. Hace no-sé-cuántos años, los franceses propusieron un sistema decimal para manejar el <strong>tiempo</strong>, pero el método fue impopular entre la comunidad científica. Si hubiera sido así, manejar las fechas y horas en cualquier sistema, hubiera sido tan fácil que no habría tantas implementaciones para trabajar <strong>con</strong> él, como hoy en día. Pero bueno, el hubiera no existe.<br><br>En <strong>Perl</strong> a veces nos confunde sobre si necesitamos usar <a href="http://perldoc.perl.org/functions/localtime.html" target="_blank">localtime</a>, <a href="http://perldoc.perl.org/functions/time.html" target="_blank">time</a>, <a href="http://perldoc.perl.org/functions/gmtime.html" target="_blank">gmtime</a>, <a href="http://search.cpan.org/%7Edrolsky/DateTime-0.37/lib/DateTime.pm" target="_blank">DateTime.pm</a>, etc. para trabajar <strong>con</strong> el <strong>tiempo</strong>. En realidad es mucho más sencillo de lo que parece. Espero que estas minirecetas le sirvan a alguien cuando encuentre este texto buscando por ahí en la red el <strong>manejo</strong> <strong>del</strong> <strong>tiempo</strong> <strong>con</strong> <strong>Perl</strong>. Lo haré a manera de FAQ.<br><br>¿Cómo obtengo la fecha actual?<br>La función localtime nos devuelve la fecha actual, pero lo hace en forma de una lista de 9 elementos que podemos obtener de una manera sencilla:<br><br>my @fecha = localtime; # La lista tiene el formato (seg, min, hora, día mes, mes, año, día sem, día año, DST).<br><br>De esta forma, cada uno de los elementos <strong>del</strong> arreglo @fecha, será, por orden, el de ese formato, de ahí podrías usar $fecha[0] para obtener el segundo, $fecha[1] para los minutos, y así sucesivamente. Puedes obtener más información en perldoc -f localtime.<br><br>¿Y time? ¿Qué es? ¿Cuándo lo utilizo? ¿localtime no se mandaba llamar como localtime(time)?<br><br>La función time nos regresa la cantidad de segundos desde el epoch, léase, el 1 de enero de 1970, UTC, como en la mayoría de los sistemas actuales. time realmente lo hace desde cualquier epoch de acuerdo a la arquitectura de la máquina, pero supondremos que ese no es el caso.<br><br>damog@cochina:~$ <strong>perl</strong> -e ‘print time.”\n”;’<br>1179168385<br>localtime toma como parámetro una cierta cantidad de segundos. Por default, toma el valor de time. Así que podemos usar tanto localtime como localtime(time) cuando usemos dicha función.<br><br>Pero lo que yo quiero es obtener la fecha en el formato que yo quiera.<br><br>Tienes dos opciones. Una, es usar el contexto escalar de localtime, es decir, tratar lo que nos regresa localtime como una variable escalar, no como una lista. Ejemplo:<br><br>damog@cochina:~$ <strong>perl</strong> -e ‘$fecha = localtime; print $fecha, “\n”;’<br>Wed May 16&#160;19:29:55&#160;2007<br>damog@cochina:~$<br><br>Sencillo, ¿no? Lo cual es lo mismo que usar la función scalar, sin tener que asignar forzosamente a una variable escalar:<br><br>damog@cochina:~$ <strong>perl</strong> -e ‘print scalar localtime, “\n”‘<br>Wed May 16&#160;19:30:55&#160;2007<br>damog@cochina:~$<br><br>Puedes echar un ojo a <a href="http://perldoc.perl.org/perllocale.html" target="_blank">perllocale</a> si es que la fecha te interesa en otro idioma.<br><br>Lo más sencillo, desde mi muy personal punto de vista, y la otra opción, es usar strftime. No hay que temer a usarlo, básicamente utiliza la misma sintaxis que su predecesor, strftime de C. A final de cuentas es bien sencillo (incluso a veces yo echo un rápido vistazo a la página de strftime de PHP que explica cómo usar la función y es la misma implementación). Esta función se encuentra en el módulo estándar <a href="http://perldoc.perl.org/POSIX.html" target="_blank">POSIX</a>, que podría ser que ya tengas cargado en tu distribución o sistema operativo. Lo que strftime necesita, es el formato en el que necesitas la fecha, y el <strong>tiempo</strong> en segundos desde el epoch.<br><br>Supongamos que queremos la fecha <strong>del</strong> día de hoy, en el formato AAAA-MM-DD:<br><br>damog@cochina:~$ <strong>perl</strong> -e ‘<br>&gt; use POSIX qw(strftime);<br>&gt; print strftime(”%Y-%m-%d”, localtime), “\n”;<br>&gt; ‘<br>2007-05-17<br>damog@cochina:~$<br><br>¿Muy simple, no?<br><br>Incluso, si queremos hacer un poco de matemáticas <strong>con</strong> días, lo podemos hacer <strong>con</strong> strftime, por ejemplo, queremos la fecha de ayer en formato AAAA-MM-DD hh-mm-ss:<br><br>damog@cochina:~$ <strong>perl</strong> -e ‘<br>&gt; use POSIX qw(strftime);<br>&gt; print strftime(”%Y-%m-%d %H:%M:%S”, localtime(time - 86400)), “\n”;<br>&gt; ‘<br>2007-05-16&#160;10:14:06<br>damog@cochina:~$<br>Como que no entendí muy bien eso de los contextos de localtime. ¿Me lo podrías aclarar?<br><br>Claro. localtime es manejado por <strong>Perl</strong> desde dos conceptos para su valor de retorno. Uno es el contexto de escalar y uno en el contexto de lista (como sabes, <strong>Perl</strong> utiliza estos dos tipos -u otros- de conceptos para el <strong>manejo</strong> de sus variables). El contexto escalar de localtime es el que nos regresa una fecha formateada (puedes echar un ojo también a la función scalar, si tienes duda al respecto); el contexto de lista de localtime nos regresa un arreglo, donde cada uno de sus elementos, corresponde a un atributo de la fecha, como la documentación de la función nos lo indica y como lo indicaba líneas arriba. Es bien simple.<br><br>De hecho, los conceptos de escalar y lista es muy simple. Una variable escalar puede contener cadenas, valores numéricos, referencias, etc. Una variable de lista son arreglos, los cuales, a su vez, contienen elementos escalares, listados en ellos. Como una nota al margen, actualmente las variables escalares de las listas son manejadas de la forma $arreglo[2], por ejemplo, así es como <strong>Perl</strong> 5 lo maneja. En <a href="http://dev.perl.org/perl6/" target="_blank"><strong>Perl</strong> 6</a> se utilizarán los elementos de las listas de la forma @arreglo[2], lo cual es mucho más intuitivo y natural, pero mientras <strong>Perl</strong> 6 no vea la luz oficialmente, esta nota queda sólo como una acotación adicional :-)<br><br>Aún se me hace un poco complicado, ¿no hay una forma más fácil?<br><br>¡Desde luego! There is more than one way to do it. Hay una cantidad enorme de módulos de fecha y hora disponibles en <a href="http://search.cpan.org/" target="_blank" rel="external">CPAN</a>, sin embargo, el que ha gozado de gran aceptación por su buena implementación y diseño, es DateTime.<br><br><strong>Con</strong> DateTime podemos manejar fechas y tiempos en una forma mucho más natural e intuitiva, podemos hacer operaciones matemáticas de una forma mucho más lingüística, que puede terminar ayudando mucho más la naturaleza y la lógica de nuestros programas:<br><br>¿Cómo puedo obtener la hora actual <strong>con</strong> DateTime?<br><br>Bien simple:<br><br>damog@cochina:~$ <strong>perl</strong> -e ‘<br>&gt; use DateTime;<br>&gt;<br>&gt; my $hoy = DateTime-&gt;now();<br>&gt; print $hoy, “\n”;<br>&gt; ‘<br>2007-05-17T16:26:12<br>damog@cochina:~$<br><br>Sin embargo, hay que ser un poco cuidadosos al usar el método now() pues nos regresa la fecha en UTC. Para eso, podemos crear el objeto $hoy, especificando nuestra zona horaria:<br><br>damog@cochina:~$ <strong>perl</strong> -e ‘<br>&gt; use DateTime;<br>&gt; my $hoy = DateTime-&gt;now(time_zone =&gt; “America/Chicago”);<br>&gt; print $hoy, “\n”;<br>&gt; ‘<br>2007-05-17T11:29:51<br>damog@cochina:~$<br><br>Ese objeto, puede ser utilizado para muchas más cosas. Por ejemplo, a una fecha, sumarle un mes, no es lo mismo que sumarle 28 días, ó 30, ó 31. Mira este ejemplo, donde crearemos un objeto DateTime <strong>con</strong> una fecha en el pasado y le sumaremos un mes y luego le restaremos dos años:<br><br>damog@cochina:~$ <strong>perl</strong> -e ‘<br>&gt; use DateTime;<br>&gt; my $fecha = DateTime-&gt;new(<br>&gt; year =&gt; 1984,<br>&gt; month =&gt; 8,<br>&gt; day =&gt; 8,<br>&gt; hour =&gt; 2,<br>&gt; minute =&gt; 0);<br>&gt; print $fecha-&gt;add(months =&gt; 1), “\n”;<br>&gt; print $fecha-&gt;add(years =&gt; -2), “\n”;<br>&gt; print “DateTime es la onda!\n”;<br>&gt; ‘<br>1984-09-08T02:00:00<br>1982-09-08T02:00:00<br>DateTime es la onda!<br>damog@cochina:~$<br><br>Podemos ver que creamos un objecto DateTime llamado $fecha que apunta hacia el 8 de agosto de 1984, 2 de la mañana. A él, le sumamos un mes y luego le restamos dos años. Simple, ¿no crees?<br><br>¿Y cómo puedo hacer una diferencia de fechas?<br><br>Creo que lo más sencillo para utilizar, es Date::Manip. Observa este ejemplo:<br><br>damog@cochina:~$ <strong>perl</strong> -e ‘<br>&gt; use Date::Manip;<br>&gt; my $hoy = ParseDate(”today”);<br>&gt; my $fecha_nacimiento = ParseDate(”1984-08-08&#160;02:00:00″);<br>&gt; $delta = DateCalc($fecha_nacimiento, $hoy, \$err, 1);<br>&gt; print $delta, “\n”;<br>&gt; ‘<br>+22:9:1:2:9:55:34<br>damog@cochina:~$<br><br>Básicamente, creamos dos cadenas, $hoy y $fecha_nacimiento y luego las pasamos por &amp;DateCalc, que requiere ambas fechas, una referencia a una variable de error y la variable 1, como modo de operación que nos hará la diferencia entre ambas fechas. Esto nos regresa una cadena parseable para el método &amp;ParseDateDelta, cuyo formato nosotros podemos utilizar y parsear:<br><br>my ($anos, $meses, $semanas, $dias, $horas, $minutos, $segundos)<br><br>= $delta =~ /^+(\d+):(\d+):(\d+):(\d+):(\d+):(\d+):(\d+)$/;<br><br>Echando rápidamente una mirada a la cadena, podemos saber que en el momento de escribir esta guía, tengo 22 años, 9 meses, 1 semana, 2 días, 9 horas, 55 minutos y 34 segundos de vida. :-)<br><br>¿Pero y si quiero convertir una cierta fecha a segundos desde el epoch?<br><br>El módulo POSIX también proporciona una función bien sencilla llamada <a href="http://perldoc.perl.org/POSIX.html" target="_blank">mktime</a> que puede ser usada para precisamente esto.<br><br>Como puede verse en la documentación de esta función, la sintaxis es la siguiente:<br><br>mktime(sec, min, hour, mday, mon, year, wday = 0, yday = 0, isdst = 0);<br><br>Quiero saber la cantidad de segundos hasta el momento que mis padres me han dicho que nací, 2 am, <strong>del</strong> 8 de agosto de 1984. El valor mon es contabilizado desde 0, el cual es enero, y así sucesivamente hasta el 11 que es diciembre. De forma similar <strong>con</strong> wday y yday. El argumento year, empieza desde 1900. Dicho lo anterior, podemos calcular:<br><br>damog@cochina:~$ <strong>perl</strong> -e ‘<br>&gt; use POSIX qw(mktime);<br>&gt;<br>&gt; print mktime(0, 0, 2, 8, 7, 84), “\n”;<br>&gt; ‘<br>460800000<br>damog@cochina:~$<br><br>Ahí utilizamos 0 para el segundo, 0 para el minuto, 2 para la hora, 8 para el día <strong>del</strong> mes, 7 para el mes <strong>del</strong> año (agosto, recordemos que empiezan desde cero) y 84 para el año desde 1900. Nací en el segundo 460800000 desde el epoch. Pero vamos a ver si eso es cierto, usaremos una combinación de mktime y localtime, en su contexto escalar:<br><br>damog@cochina:~$ <strong>perl</strong> -e ‘<br>&gt; use POSIX qw (mktime);<br>&gt;<br>&gt; print scalar localtime(mktime(0, 0, 2, 8, 7, 84)), “\n”;<br>&gt; ‘<br>Wed Aug  8&#160;02:00:00&#160;1984<br>damog@cochina:~$<br><br>Parece que así es :-) Nací en el segundo  460800000. Era miércoles :-)<br><br>Como puedes ver, no es la gran cosa procesar fechas y horas en <strong>Perl</strong>, realmente es sencillo y sólo es cosa de excarvarle un poquito por aquí y por allá y usar cinta adhesiva para obtener lo que queremos de una forma eficiente y útil.<br><br>Ojalá te sirva, espero que te hayas divertido aprendiendo un poquito sobre el <strong>tiempo</strong> en <strong>Perl</strong> así como yo me divertí escribiendo. Puedes hacerme llegar tus comentarios a &lt;<a href="mailto:damog@ciencias.unam.mx" target="_blank">damog@ciencias.unam.mx</a>&gt;.<br><br>Información extendida recomendada:<br></p><br><ul><br><li><a href="http://www.perl.com/pub/a/2003/03/13/datetime.html" target="_blank">The Many Dates and Times of <strong>Perl</strong></a></li><br><li><a href="http://perl.about.com/od/perltutorials/a/perllocaltime.htm" target="_blank">How to tell the current time in <strong>Perl</strong></a></li><br><li><a href="http://www.stonehenge.com/merlyn/UnixReview/col25.html" target="_blank">Getting a date with <strong>Perl</strong></a></li><br><li><a href="http://datetime.perl.org/?FAQ" target="_blank">DateTime Project FAQ</a></li><br></ul><br><hr><br><p><br>Sobre el autor: Durante el día, David Moreno Garza (<a href="http://www.damog.net//" target="_blank">damog</a>) desarrolla aplicaciones, sistemas y proyectos para una incipiente empresa internacional de telecomunicaciones; adicionalmente es consultor independiente en empresas mexicanas y extranjeras utilizando <strong>Perl</strong>. Durante la noche intenta salvar al mundo <strong>del</strong> mal usando expresiones regulares y netiquette.<br></p><br><hr><br><p><br>Copyright © 2007 David Moreno Garza.This material may be distributed only subject to the terms and conditions set forth in the Open Publication License, v1.0 or later (the latest version is presently available at <a href="http://www.opencontent.org/openpub/" target="_blank" rel="external"><a href="http://www.opencontent.org/openpub/" target="_blank" rel="external">http://www.opencontent.org/openpub/</a></a>). </p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-pequenas-herramientas-para-grandes-necesidades" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2007/08/31/pequenas-herramientas-para-grandes-necesidades/" class="article-date">
  <time datetime="2007-09-01T03:44:51.000Z" itemprop="datePublished">Fri Aug 31, 2007</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2007/08/31/pequenas-herramientas-para-grandes-necesidades/">Pequeñas herramientas para grandes necesidades</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p id="post-664"><strong>Pequeñas herramientas para grandes necesidades</strong></p><br><ul><br><li><br><a href="http://www.damog.net/columnapl/pequenas-herramientas-para-grandes-necesidades/#la_columna_pl__2" target="_blank" rel="external">La <strong>Columna</strong>.<strong>pl</strong> #<strong>2</strong></a><br><ul><br><li><br><a href="http://www.damog.net/columnapl/pequenas-herramientas-para-grandes-necesidades/#peque%20%20%20_as_herramientas_para_grandes_necesidades" target="_blank" rel="external">Pequeñas herramientas para grandes necesidades</a><br><ul><br><li><a href="http://www.damog.net/columnapl/pequenas-herramientas-para-grandes-necesidades/#referencias_%20%20%20%20%20%20tiles" target="_blank" rel="external">Referencias útiles</a></li><br></ul><br></li><br><li><a href="http://www.damog.net/columnapl/pequenas-herramientas-para-grandes-necesidades/#autor" target="_blank" rel="external">Autor</a></li><br><li><a href="http://www.damog.net/columnapl/pequenas-herramientas-para-grandes-necesidades/#licencia_de_uso" target="_blank" rel="external">Licencia de uso</a></li><br></ul><br></li><br><li><a href="http://www.damog.net/columnapl/pequenas-herramientas-para-grandes-necesidades/#sobre_la_columna_pl" target="_blank" rel="external">Sobre <em>La <strong>Columna</strong>.<strong>pl</strong></em></a></li><br></ul><br><hr><br><h1><br><a title="la_columna_pl__2" name="la_columna_pl__2" id="la_columna_pl__2"></a>La <strong>Columna</strong>.<strong>pl</strong> #<strong>2</strong><br></h1><br><h2><br><a title="peque   _as_herramientas_para_grandes_necesidades" name="peque%20%20%20_as_herramientas_para_grandes_necesidades" id="peque   _as_herramientas_para_grandes_necesidades"></a>Pequeñas herramientas para grandes necesidades</h2><br><p><br>Se han pasado muy rápidamente estos últimos 15 días. Entre algunas pláticas, trabajo y otras cosas, pareciera que el tiempo simplemente se esfuma tan, tan rápidamente.<br><br>Como sea, ya estamos en la segunda entrega de <em>La <strong>Columna</strong>.<strong>pl</strong></em>. En esta quincena quiero tocar un tema bien interesante que son esas pequeñas herramientas que nos pueden llenar de una manera muy especial alguna de nuestras necesidades. ¿Hay algo por ahí que quieras automatizar pero no te decides? Inténtalo.<br><br>El ejemplo que voy a poner aquí es acerca de una pequeña utilidad que hice para revisar el estado de la batería de mi laptop. Como es bien sabido por algunos de ustedes, amables lectores, utilizo una máquina <em>PowerBook G4</em>, sobre <em>Debian GNU/Linux</em>: En esta máquina hago la mayoría de mi trabajo, que se basa principalmente en desarrollo de software y algo de administración de sistemas. La mayoría de mi trabajo lo hago en esta máquina que es casi tan estable como una piedra. En fin, las computadoras <em>Apple</em>, como ésta, utilizan un microcontrolador que gestiona las funcionalidades de energía, tales como el control de suspensión, el nivel de batería y otras similares, llamado PMU. Lamentablemente las aplicaciones actualmente existentes que monitorean los atributos de PMU, en Linux sobre estas computadoras no me satisfacen del todo: Algunas son unas aplicaciones en <em>GTK</em> verdaderamente estorbosas; otras están integradas al panel de control de <em>GNOME</em> o <em>KDE</em>, del cual no utilizo ninguno. Opté por utilizar el control de batería de <em>GKrellM</em>, que es algo modesto, pero que de todas formas a veces no quería tener siempre en mi escritorio - que para empezar, no es que tenga un escritorio como tal, pues de un escritorio sólo utilizo algunos escritorios virtuales y algo de soporte de systray. Finalmente no estaba muy seguro de lo que necesitaba. Lo único seguro era mi inseguridad en el caso <img src="http://www.damog.net/wp-includes/images/smilies/icon_smile.gif" alt=":-)"><br><br>¡Una pequeña aplicación en Perl! Claro, desde un emulador de terminal podría llamar esta aplicación y me diría qué porcentaje tengo de batería restante en mi máquina, sería lo más simple, sencillo y a mi gusto, sería perfecto. Pues vamos a poner las manos a la obra.<br><br>En mi máquina, la información de la batería se encuentra en /proc/pmu/battery<em>0, que luce así:<br></em></p><br><pre> flags      : 00000011 charge     : 3535<br><br>max_charge : 3537<br><br>current    : 0<br><br>voltage    : 12495<br><br>time rem.  : 0</pre><br><p><br>El archivo indica diferentes valores para amperaje y voltaje. Los que me interesan son los valores de charge y max_charge que indican miliampers/hora de la carga actual que tiene la pila y la máxima.<br><br>Lo que hay que hacer es bastante simple. Obtener el valor de charge, el de max_charge y obtener un porcentaje del primero con respecto al segundo. En esta columna tocaré algunos temas básicos pero que pueden ser de utilidad para entender algunos conceptos más adelante en otras columnas.<br></p><br><pre> #!/usr/bin/perl use warnings;<br><br>use strict;</pre><br><p><br>Mando llamar al intérprete de Perl que en la mayoría de las distribuciones con binarios precompilados irá a dar a <code>/usr/bin/perl</code> e inmediatamente mando llamar dos pragmas de Perl: El primero, <code>warnings</code>, para controlar advertencias y el segundo, <code>strict</code>, para restringir construcciones inseguras. Es bueno siempre llamar ambos pragmas para educarnos un poco al programar. Un pragma es únicamente un indicador para el momento de la compilación, podremos estudiar un poco los pragmas en futuras columnas.<br></p><br><pre> my $pmufile = ‘/proc/pmu/battery_0’;</pre><br><p><br>Declaro la variable <code>$pmufile</code> que indicará la ruta absoluta del archivo que mencionaba anteriormente.<br></p><br><pre> my $filecont; {<br><br>local $/ = undef;<br><br>open(PMU, $pmufile) or die $!;<br><br>$filecont = &lt;PMU&gt;;<br><br>}</pre><br><p><br>Aunque el uso de <code>local</code> ya no se aconseja mucho, es bueno a veces para utilizarlo en bloques específicos donde sólo tengamos que modificar, quizás, una variable especial, como en este caso, la variable especial <code>$/</code>. Esta variable nos sirve para definir el <em>input record separator</em>, que por default, es una línea nueva. Modificarlo nos permite hacer cosas interesantes, sobre todo cuando efectuamos un ciclo <code>while()</code> hacia un filehandle. En este caso, indefinimos su valor, por lo cual, luego de abrir el archivo <code>$filename</code> a lectura, vaciamos todo el contenido del archivo en una sola variable, <code>$filecont</code>, que habíamos declarado antes del bloque. En alguna columna futura tengo pensado tratar a fondo las variables especiales, que son algo muy interesante dentro de Perl.<br></p><br><pre> my($charge) = $filecont =~ /charges+:s(d+)/; my($max_charge) = $filecont =~ /max_charges+:s(d+)/;</pre><br><p><br>Aquí creamos las variables <code>$charge</code> y <code>$max_charge</code> y les asignamos el valor que nos arroja nuestra expresión regular como la variable especial <code>$1</code>, en ambas líneas.<br></p><br><pre> my $porc = int (($charge/$max_charge) * 100);</pre><br><p><br>Dividimos <code>$charge</code> entre <code>$max_charge</code> y multiplicamos el resultado por cien, para obtener el porcentaje. Sin embargo, este resultado nos arrojaría más de diez decimales, después del punto. Por ello, utilizamos la función de Perl, <code>int</code>, que nos regresa el valor entero de su parámetro (mi incipiente naturaleza matemática me hace hacer notar que un número entero no es necesariamente un número natural :-)).<br></p><br><pre> print “t”, “Restante: $porc %”, “n”;</pre><br><code>print</code><p> en realidad requiere una lista como argumento, lo que generalmente hacemos en enviarle un sólo parámetro (por ejemplo, <code>print “Hola mundo”;</code>), sin embargo, para una notación mucho más intuitiva, ponemos el salto de línea y el tabulador como primer y tercer parámetro, una lista, precisamente.<br><br>¡Y listo! Le agrego un bit de ejecución al script, lo renombro a <code>pila</code>, lo pongo en <code>/usr/local/bin</code> o algo similar y puedo correrlo fácilmente:<br></p><br><pre> damog@cochina:~$ pila         Restante: 86 %<br><br>damog@cochina:~$</pre><br><p><br>Ya luego podría usar ese comando para hacer otras cosas: parsear el valor y podría enviarme un correo avisándome que ya se me va a acabar la pila, o mandar un mensaje al systray o quizás conectarme al IRC y avisarle a mi nick al respecto; hay muchas cosas más que Perl nos facilita hacer, ¡tu imaginación es el límite!<br><br>De otras muchas formas habríamos podido abrir el archivo y leer el contenido de <code>charge</code> y <code>max_charge</code>. ¿Tú de qué forma lo hubieras hecho? ¿Quizás ciclar el filehandle hasta toparse con <code>/^max_charge/</code>? ¿Quizás usar alguna combinación con ejecución externa de <code>cat</code> o de <code>grep</code>?<br><br>Te invito a que me envíes tus comentarios. Nos leemos dentro de quince días.<br></p><br><h3><br>&lt;a title=”referencias      tiles” name=”referencias<em>%20%20%20%20%20%20tiles” id=”referencias</em>      tiles”&gt;Referencias útiles</h3><br><ul><br><li><a href="http://perldoc.perl.org/index-pragmas.html" target="_blank" rel="external"><a href="http://perldoc.perl.org/index-pragmas.html" target="_blank" rel="external">http://perldoc.perl.org/index-pragmas.html</a></a></li><br><li><a href="http://perldoc.perl.org/perlvar.html" target="_blank" rel="external"><a href="http://perldoc.perl.org/perlvar.html" target="_blank" rel="external">http://perldoc.perl.org/perlvar.html</a></a></li><br><li><a href="http://perldoc.perl.org/functions/int.html" target="_blank" rel="external"><a href="http://perldoc.perl.org/functions/int.html" target="_blank" rel="external">http://perldoc.perl.org/functions/int.html</a></a></li><br><li><a href="http://perldoc.perl.org/perlop.html#Integer-Arithmetic-integer" target="_blank" rel="external"><a href="http://perldoc.perl.org/perlop.html#Integer-Arithmetic-integer" target="_blank" rel="external">http://perldoc.perl.org/perlop.html#Integer-Arithmetic-integer</a></a></li><br></ul><br><h2><br><a title="autor" name="autor" id="autor"></a>Autor</h2><br><p><br>Durante el día, David Moreno Garza (<a href="http://www.damog.net//" target="_blank" rel="external"><a href="http://www.damog.net/" target="_blank" rel="external">http://www.damog.net/</a></a>) desarrolla aplicaciones, sistemas y proyectos para una incipiente empresa internacional de telecomunicaciones; adicionalmente es consultor independiente en empresas mexicanas y extranjeras utilizando Perl. Durante la noche intenta salvar al mundo del mal usando expresiones regulares y <em>netiquette</em>.<br></p><br><h2><br><a title="licencia_de_uso" name="licencia_de_uso" id="licencia_de_uso"></a>Licencia de uso</h2><br><p><br>Copyright © 2007 David Moreno Garza.<br><br>This material may be distributed only subject to the terms and conditions set forth in the Open Publication License, v1.0 or later (the latest version is presently available at <a href="http://www.opencontent.org/openpub/" target="_blank" rel="external"><a href="http://www.opencontent.org/openpub/" target="_blank" rel="external">http://www.opencontent.org/openpub/</a></a>).<br><br></p><br><hr><br><h1><br><a title="sobre_la_columna_pl" name="sobre_la_columna_pl" id="sobre_la_columna_pl"></a>Sobre <em>La <strong>Columna</strong>.<strong>pl</strong></em><br></h1><br><em>La <strong>Columna</strong>.<strong>pl</strong></em><p> es una columna quincenal que escribe el autor alrededor de Perl. Está inspirado en las columnas que Randal L. Schwartz ha escrito desde hace varios años ya. Por medio de recetas, consejos, instructivos y guías, el autor pretende propiciar interés en la gente para que conozca un poco más a fondo este apasionante lenguaje de programación y así fomentar una comunidad más sólida alrededor de él.<br><br>Visite <a href="http://www.damog.net/columnapl" target="_blank" rel="external"><a href="http://www.damog.net/columnapl" target="_blank" rel="external">http://www.damog.net/columnapl</a></a>. </p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-la-columnapl" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2007/08/31/la-columnapl/" class="article-date">
  <time datetime="2007-09-01T03:32:25.000Z" itemprop="datePublished">Fri Aug 31, 2007</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2007/08/31/la-columnapl/">La Columna.pl</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p></p><p><strong>La Columna.pl</strong> es una columna periódica en español sobre el lenguaje de programación y la cultura Perl.<br></p><p></p>
<ul><br><li><br><a href="http://www.damog.net/la-columnapl/manejo-del-tiempo-con-perl/" target="_blank" rel="external">La Columna.pl #1</a>. 26 de mayo de 2007. Manejo del tiempo con Perl.</li><br><li><br><a href="http://www.damog.net/la-columnapl/pequenas-herramientas-para-grandes-necesidades/" target="_blank" rel="external">La Columna.pl #2</a>. 7 de junio de 2007. Pequeñas herramientas para grandes necesidades.</li><br><li><br><a href="http://www.damog.net/la-columnapl/redirecciones/" target="_blank" rel="external">La Columna.pl #3</a>. 9 de julio de 2007. Redirecciones.</li><br><li><br><a href="http://www.damog.net/la-columnapl/automatizacion-en-web-con-wwwmechanize/" target="_blank" rel="external">La Columna.pl #4</a>. 5 de septiembre de 2007. Automatización en web con WWW::Mechanize.</li><br></ul>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-sapo-verde-soy-yo" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2007/08/08/sapo-verde-soy-yo/" class="article-date">
  <time datetime="2007-08-09T03:37:55.000Z" itemprop="datePublished">Wed Aug 8, 2007</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2007/08/08/sapo-verde-soy-yo/">Sapo verde soy yo</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>I’m 23 years old since 2 am on this August, 8th.</p><br><p><br>Thanks for the congratulations messages I’ve received so far :-), <a href="http://www.willthompson.co.uk/" target="_blank">resiak</a> even sang happy birthday to me on IRC!<br><br>Next year (August, 8th, 2008), 08-08-08, I will turn 24! 08+08+08! Something really bad is going to happen because of that :-) Probably that’s gonna be my really lucky year. But how en Earth can I be more lucky than what I am today? :-P<br><br>In the meantime, I’ve invited my closest local friends to a bar this Friday to celebrate my birthday. Let the rum and tequila flow, baby! Yeah! </p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-an-end-has-a-start" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2007/08/02/an-end-has-a-start/" class="article-date">
  <time datetime="2007-08-03T03:36:41.000Z" itemprop="datePublished">Thu Aug 2, 2007</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2007/08/02/an-end-has-a-start/">An end has a start</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>July 31st was my last day working for Sixbell-Nekotec Solutions (formerly known as Nekotec Tecnología). I lasted there three years. It seems like a life was spent there, heh: I entered after turning 20 and I’m leaving some days before I turn 23.</p>

<p><a href="http://www.maggit.com.mx/" target="_blank">Our</a> future is still a bit fuzzy, but we are working on it. In the meantime, I’m getting back full-time to <a href="http://www.matematicas.unam.mx/" target="_blank">Mathematics</a> next 13rd. But if our plans succeed and if everything goes right, we’ll be moving by the end of August or early September. Heh, yes, leaving school temporarily, again!</p>

<p>Anyway, I’m unemployed right now. <a href="http://www.last.fm/user/damog" target="_blank">Listening</a> to music most part of the day, taking Raquel to work, coding a bit here, there, doing some Debian labor, etc.</p>

<p>Meh.</p>

<p>An End Has A Start is one of the albums by the English band, The Editors, it makes a great title for my post now :-). I just listened to Taraf de Haïdouks’ Maskarada, it’s not that great as the masterpiece as The Continuing Adventures. I’m getting addicted to the Cold War Kids.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-i-am-are-you" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2007/07/30/i-am-are-you/" class="article-date">
  <time datetime="2007-07-31T03:36:02.000Z" itemprop="datePublished">Mon Jul 30, 2007</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2007/07/30/i-am-are-you/">I am. Are you?</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>You really have to be a fucking son of a bitch for living in a world where you go out and see everyday’s people living on extreme poorness, unfairness all over the place, six year-olds performing like clowns on red stops and your fellow compatriots dying on the streets, among hundreds of all other kinds of shit happening. You really have to be one when, after all of that, you finally arrive and seat on your so comfortable chair and start blogging, working with free software or playing a movie on your iPod.</p>

<p>We are all so cynic, and I’m particularly bitter.</p>

<p>[ UPDATE: abrotman also pointed me to the term hypocrite. Yes. ]</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
    <article id="post-debian-maintainers" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/blog/2007/07/26/debian-maintainers/" class="article-date">
  <time datetime="2007-07-27T03:35:14.000Z" itemprop="datePublished">Thu Jul 26, 2007</time>
</a>
		</span>
		<span class="meta-elements author">David Moreno</span>
		<div class="commentscount">
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/blog/2007/07/26/debian-maintainers/">Debian Maintainers</a>
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>Hey you, Debian maintainers, if you are looking for some bloody DD to sponsor your packages, feel free to contact me (&lt;<strong>damog</strong>@d.o&gt;) and I’ll be more than happy to check/upload them.</p>

<p>That’s what I have to say so far about this.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
			</span>
		</div>
	</footer>
	
</article>


	<hr class="article-devider">



  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/blog/page/19/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/18/">18</a><a class="page-number" href="/blog/page/19/">19</a><span class="page-number current">20</span><a class="page-number" href="/blog/page/21/">21</a><a class="page-number" href="/blog/page/22/">22</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/75/">75</a><a class="extend next" rel="next" href="/blog/page/21/">Next &raquo;</a>
    </nav>
  

    </div>
    <div class="mb-search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:damog.net/blog">
  </form>
</div>
<footer id="footer">
	<h1 class="footer-blog-title">
		<a href="/blog/">dm&#39;s blog</a>
	</h1>
	<span class="copyright">
		&copy; 2015 David Moreno<br>
		Modify from <a href="http://sanographix.github.io/tumblr/apollo/" target="_blank">Apollo</a> theme, designed by <a href="http://www.sanographix.net/" target="_blank">SANOGRAPHIX.NET</a><br>
		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	</span>
</footer>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js" type="text/javascript"></script>
  </div>
</body>
</html>